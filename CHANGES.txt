------------------------------------------------------------------------
r440 | gaser | 2012-03-28 09:50:58 +0200 (Mi, 28 Mär 2012) | 7 lines

Changed paths:
M       cg_vbm8_defs.m
M       cg_ornlm.m
M       CHANGES.txt

Added HDW path to cg_vbm8_defs.m.

------------------------------------------------------------------------
r441 | gaser | 2012-07-18 09:03:10 +0200 (Mi, 18 Jul 2012) | 38 lines

Changed paths:
!       cg_vbm8_defs.m
M       Contents_info.txt
M       Makefile.vbm
!       cg_vbm8_defaults.m
!       spm_vbm8.m
!       vbm8.txt
!       cg_vbm8_batch.m
!       cg_vbm8_update.m
!       cg_vbm8_tools.m
!       VBM8-Manual_Japanese.doc
!       cg_vbm8_bias_run.m
M       Anatomy2Dartel.txt
!       cg_vbm8_get_defaults.m
M       cg_realign.m
!       cg_vbm8_longitudinal_multi_run.m
!       cg_vbm8_longitudinal_multi.m
!       cg_vbm8_run.m
!       VBM8-Manual.pdf
!       cg_vbm8_brainmask_ui.m
M       CHANGES.txt
M       cg_spm8_batch.m
!       cg_vbm8_batch.sh
M       INSTALL_info.txt
!       tbx_cfg_vbm8.m
M       cg_sanlm.m
!       cg_vbm8_debug.m
M       cg_cfg_realign.m
!       cg_vbm8_brainmask.m
!       cg_vbm8_bias.m
!       cg_vbm8_longitudinal.m
!       cg_vbm8_write.m
!       VBM8-Manual.doc
!       VBM8-Manual_Japanese.pdf
!       test_vbm8.m

Renamed all occurance of vbm8 to vbm12.

------------------------------------------------------------------------
r442 | gaser | 2012-07-18 09:09:18 +0200 (Mi, 18 Jul 2012) | 54 lines

Changed paths:
D       cg_vbm8_defs.m
A  +    cg_vbm12_get_defaults.m
D       cg_vbm8_defaults.m
A  +    cg_vbm12_batch.sh
D       spm_vbm8.m
D       vbm8.txt
A  +    cg_vbm12_brainmask_ui.m
D       cg_vbm8_batch.m
D       cg_vbm8_update.m
A  +    cg_vbm12_defaults.m
A  +    cg_vbm12_batch.m
D       cg_vbm8_tools.m
D       VBM8-Manual_Japanese.doc
D       cg_vbm8_bias_run.m
D       cg_vbm8_get_defaults.m
A  +    cg_vbm12_tools.m
A  +    cg_vbm12_longitudinal_multi.m
A  +    VBM12-Manual_Japanese.pdf
A  +    cg_vbm12_brainmask.m
D       cg_vbm8_longitudinal_multi_run.m
D       cg_vbm8_longitudinal_multi.m
D       cg_vbm8_run.m
A  +    cg_vbm12_bias_run.m
A  +    test_vbm12.m
A  +    cg_vbm12_bias.m
D       VBM8-Manual.pdf
A  +    cg_vbm12_longitudinal.m
D       cg_vbm8_brainmask_ui.m
A  +    vbm12.txt
A  +    VBM12-Manual.pdf
A  +    cg_vbm12_defs.m
A  +    cg_vbm12_update.m
D       cg_vbm8_batch.sh
A  +    spm_vbm12.m
D       tbx_cfg_vbm8.m
A  +    VBM12-Manual_Japanese.doc
A  +    cg_vbm12_run.m
D       cg_vbm8_debug.m
A  +    cg_vbm12_debug.m
A  +    cg_vbm12_longitudinal_multi_run.m
D       cg_vbm8_brainmask.m
D       cg_vbm8_bias.m
A  +    tbx_cfg_vbm12.m
D       cg_vbm8_longitudinal.m
D       cg_vbm8_write.m
D       VBM8-Manual.doc
D       VBM8-Manual_Japanese.pdf
A  +    cg_vbm12_write.m
D       test_vbm8.m
A  +    VBM12-Manual.doc

Renamed all files from vbm8 to vbm12.

------------------------------------------------------------------------
r443 | gaser | 2012-07-18 09:10:56 +0200 (Mi, 18 Jul 2012) | 27 lines

Changed paths:
M       cg_vbm12_get_defaults.m
M       cg_vbm12_batch.sh
M       cg_vbm12_brainmask_ui.m
M       cg_vbm12_defaults.m
M       cg_vbm12_batch.m
M       cg_vbm12_tools.m
M       cg_vbm12_longitudinal_multi.m
M       cg_vbm12_brainmask.m
M       cg_vbm12_bias_run.m
M       test_vbm12.m
M       cg_vbm12_bias.m
M       cg_vbm12_longitudinal.m
M       cg_vbm12_defs.m
M       cg_vbm12_update.m
M       spm_vbm12.m
M       cg_vbm12_run.m
D       a64
D       a64/libEBTKS.a
M       cg_vbm12_debug.m
M       cg_vbm12_longitudinal_multi_run.m
M       tbx_cfg_vbm12.m
M       cg_vbm12_write.m
M       VBM12-Manual.doc

Renamed all occurances of vbm8 to vbm12.

------------------------------------------------------------------------
r444 | gaser | 2012-07-18 09:28:11 +0200 (Mi, 18 Jul 2012) | 52 lines

Changed paths:
D       cg_vbm12_get_defaults.m
M       Contents_info.txt
A  +    cg_vbm_defs.m
M       Makefile.vbm
D       cg_vbm12_batch.sh
A  +    cg_vbm_defaults.m
A  +    test_vbm.m
D       cg_vbm12_brainmask_ui.m
D       cg_vbm12_defaults.m
A  +    cg_vbm_batch.m
A  +    cg_vbm_update.m
D       cg_vbm12_batch.m
A  +    cg_vbm_tools.m
A  +    cg_vbm_bias_run.m
D       cg_vbm12_tools.m
A  +    tbx_cfg_vbm.m
D       cg_vbm12_longitudinal_multi.m
A  +    cg_vbm_get_defaults.m
D       cg_vbm12_brainmask.m
M       cg_realign.m
A  +    spm_vbm.m
A  +    cg_vbm_longitudinal_multi_run.m
M       cg_spm8_batch.sh
A  +    cg_vbm_longitudinal_multi.m
A  +    cg_vbm_run.m
D       cg_vbm12_bias_run.m
D       test_vbm12.m
D       cg_vbm12_bias.m
D       cg_vbm12_longitudinal.m
R       vbm12.txt
A  +    cg_vbm_brainmask_ui.m
D       cg_vbm12_defs.m
M       cg_spm8_batch.m
D       cg_vbm12_update.m
D       spm_vbm12.m
A  +    cg_vbm_batch.sh
M       cg_sanlm.m
D       cg_vbm12_run.m
A  +    cg_vbm_debug.m
D       cg_vbm12_debug.m
D       cg_vbm12_longitudinal_multi_run.m
M       cg_cfg_realign.m
D       tbx_cfg_vbm12.m
A  +    cg_vbm_brainmask.m
A  +    cg_vbm_bias.m
A  +    cg_vbm_longitudinal.m
A  +    cg_vbm_write.m
D       cg_vbm12_write.m

Changed my mind and renamed all *vbm12* files to *vbm*.

------------------------------------------------------------------------
r445 | gaser | 2012-07-18 09:32:03 +0200 (Mi, 18 Jul 2012) | 10 lines

Changed paths:
A  +    cg_spm_batch.sh
D       test_vbm.m
A  +    cg_spm_batch.m
D       cg_spm8_batch.sh
M       CHANGES.txt
D       cg_spm8_batch.m

Removed some old files and renamed spm8 to spm in filenames.

------------------------------------------------------------------------
r446 | gaser | 2012-07-18 10:21:40 +0200 (Mi, 18 Jul 2012) | 5 lines

Changed paths:
M       Makefile.vbm

Changed filenames in Makefile.vbm.

------------------------------------------------------------------------
r447 | gaser | 2012-07-18 10:36:17 +0200 (Mi, 18 Jul 2012) | 7 lines

Changed paths:
M       Makefile.vbm
D       spm_vbm.m
A  +    spm_vbm12.m

Renamed spm_vbm.m to spm_vbm12.m to enable toolbox call.

------------------------------------------------------------------------
r448 | dahnke | 2012-07-18 12:33:30 +0200 (Mi, 18 Jul 2012) | 1 line

directory for templates, test and validiation images
------------------------------------------------------------------------
r449 | gaser | 2012-09-13 12:53:51 +0200 (Do, 13 Sep 2012) | 5 lines

Changed paths:
M       tbx_cfg_vbm.m

Corrected "BlaBlaBla" in tbx_cfg_vbm.m

------------------------------------------------------------------------
r450 | gaser | 2013-03-26 14:10:21 +0100 (Di, 26 Mär 2013) | 6 lines

Changed paths:
M       cg_cleanup_gwc.m
M       CHANGES.txt

Added check whether clustering failed in cg_cleanup_gwc.m.

------------------------------------------------------------------------
r451 | gaser | 2013-03-26 14:38:49 +0100 (Di, 26 Mär 2013) | 24 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_spm_batch.sh
M       median3.mexa64
M       AmapMex.mexa64
M       eikonal3.mexa64
M       vbdist.mexa64
M       cg_spm_batch.m
M       tbx_cfg_vbm.m
M       cg_vbm_run.m
M       down_cut.mexa64
 M      vbm12.txt
M       CHANGES.txt
M       spm_vbm12.m
M       cg_sanlm.m
A       vbm12.man
M       sanlmMex_noopenmp.mexa64
M       cg_cfg_realign.m
M       sanlmMex.mexa64
M       cg_vbm_write.m

Numerous changes to use spm12 segmentation as starting label. Kmeans is now
deselected by default.

------------------------------------------------------------------------
r452 | gaser | 2013-03-26 15:09:46 +0100 (Di, 26 Mär 2013) | 13 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_defaults.m
M       cg_cleanup_gwc.m
M       cg_vbm_tools.m
M       vbm12.txt
M       cg_vbm_write.m

(1) Updated installation folder in Makefile.vbm.
(2) Corrected template folder in cg_vbm_defaults.m.
(3) Corrected typo in cg_cleanup_gwc.m.
(4) Name of volume files is now *seg.txt. 

------------------------------------------------------------------------
r453 | dahnke | 2013-03-27 11:05:32 +0100 (Mi, 27 Mär 2013) | 1 line

Little changes for Skull-Stripping and adding of export for the bias and noise corrected image (can find the original part… )
------------------------------------------------------------------------
r454 | gaser | 2013-03-28 09:19:03 +0100 (Do, 28 Mär 2013) | 11 lines

Changed paths:
M       cg_vbm_defaults.m
M       tbx_cfg_vbm.m
 M      vbm12.man
M       cg_vbm_write.m

(1) Use now defaults from spm12.
(2) Corrected saving of native bias corrected image.
(3) Removed some changes from last release.


------------------------------------------------------------------------
r455 | gaser | 2013-03-28 10:30:11 +0100 (Do, 28 Mär 2013) | 6 lines

Changed paths:
M       cg_vbm_run.m

(1) Corrected wromg fwhm value in cg_vbm_run.m.
(2) Removed unnecessary code cg_vbm_run.m.

------------------------------------------------------------------------
r456 | gaser | 2013-03-28 10:49:51 +0100 (Do, 28 Mär 2013) | 6 lines

Changed paths:
M       cg_vbm_run.m

Removed debugging output in cg_vbm_run.m.


------------------------------------------------------------------------
r457 | gaser | 2013-03-28 12:45:37 +0100 (Do, 28 Mär 2013) | 6 lines

Changed paths:
M       cg_vbm_defaults.m

Use old bounding box, because change of it and voxel size does not yer work
with Dartel.

------------------------------------------------------------------------
r458 | dahnke | 2013-04-12 10:47:18 +0200 (Fr, 12 Apr 2013) | 1 line

XML import and export of a MATLAB structure. The main functions based on the xml_io_tools of Jaroslaw Tuszynski from MATLAB Central (Version: 2010-11-05). The vbm_io_xml used the vbm_io_updateStruct function to allow updates of existing files, where parts of the main structure, where replaced by the new input.
------------------------------------------------------------------------
r459 | dahnke | 2013-04-12 10:48:55 +0200 (Fr, 12 Apr 2013) | 1 line

Local statistic (mean,min,max,std(,peak)) function for a masked region.
------------------------------------------------------------------------
r460 | dahnke | 2013-04-12 10:54:14 +0200 (Fr, 12 Apr 2013) | 1 line

Rename and update of the median filter (median3 > vbm_io_median3).
------------------------------------------------------------------------
r461 | dahnke | 2013-04-15 10:40:03 +0200 (Mo, 15 Apr 2013) | 77 lines

Changed paths:
M       CHANGES.txt
D       GBM.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       checkinopt.m
M       compile.m
A       ds.m
D       eikonal3.c
D       eikonal3.mexa64
D       eikonal3.mexglx
D       eikonal3.mexmaci
D       eikonal3.mexmaci64
D       eikonal3.mexw32
D       eikonal3.mexw64
M       tbx_cfg_vbm.m
A       templates_1.50mm
M       vbm12.txt
A       vbm_io_handle_pre.m
 M      vbm_io_updateStruct.m
MM      vbm_io_xml.m
A       vbm_pre_partvol.m
A       vbm_stat_nanstat1d.m
A  +    vbm_vol_GBM.m
A       vbm_vol_approx.m
A       vbm_vol_downcut.c
A       vbm_vol_downcut.mexmaci64
A       vbm_vol_eidist.cpp
A       vbm_vol_eidist.mexmaci64
A       vbm_vol_eikonal3.c
A       vbm_vol_eikonal3.mexmaci64
A       vbm_vol_gradient3.c
A       vbm_vol_gradient3.mexmaci64
A       vbm_vol_interp3f.cpp
A       vbm_vol_interp3f.mexmaci64
A       vbm_vol_iscale.m
A       vbm_vol_laplace3.c
A       vbm_vol_laplace3.mexmaci64
A       vbm_vol_laplace3R.c
A       vbm_vol_laplace3R.mexmaci64
MM      vbm_vol_localstat.c
 M      vbm_vol_localstat.mexmaci64
MM      vbm_vol_median3.c
 M      vbm_vol_median3.mexmaci64
A       vbm_vol_morph.m
A       vbm_vol_nanmean3.m
A       vbm_vol_pbt.m
A       vbm_vol_pbtp.cpp
A       vbm_vol_pbtp.mexmaci64
A       vbm_vol_resize.m
A       vbm_vol_simgrow.c
A       vbm_vol_simgrow.mexmaci64
A       vbm_vol_smooth3X.m
A       vbm_vol_write_nii.m

This update include a lot of new methods and function mostly with alpa-status.
(1) Added a global intensity normalisation (mg*.nii) with WM=1, GM=2/3, CSF=1/3.
(2) Added a new local adaptive segmentation (LAD) pipeline with local corrected, 
    brain masked version (ml*.nii) of the T1 input with WM=1, GM=2/3, CSF=1/3.
    The new pipeline include:
    - local adaptive tissue peak estimation for lower area PVE especially in
      deep GM structures
    - local sharpening for thin gyral WM structures
    - new final skull-stripping
    - (blood vessel correction)
(3) Added GM thickness estimation (th1*.nii) for RAW-resolution that still 
    requires the interpolation for full quality.
(4) Prepare segmentation for major brain regions and sides (l1*.nii).
(5) Added a preprocessing change map to map changes in the preprocessing to 
    identify problematic data and processing. 
(6) Added XML import/export/update function for MATLAB structures. Replace text
    by XML export (*_seg8.txt > vbm_*.xml). 
(7) Added the "vbm_*_" prefix for some function.
(8) Starts replacement of cg_morph_vol by vbm_vol_morph.
(9) Preparing a write function to write a image in different spaces.
(10) Update of the GUI and variables for the additional functions.

------------------------------------------------------------------------
r462 | gaser | 2013-04-15 12:20:36 +0200 (Mo, 15 Apr 2013) | 5 lines

Changed paths:
M       cg_vbm_defaults.m

Some editing and reordering in cg_vbm_defaults.

------------------------------------------------------------------------
r463 | gaser | 2013-04-15 12:25:27 +0200 (Mo, 15 Apr 2013) | 10 lines

Changed paths:
 M      vbm_stat_nanstat1d.m
 M      vbm_io_handle_pre.m
 M      vbm_vol_simgrow.c
 M      vbm_vol_simgrow.mexmaci64
M       vbm12.txt
 M      vbm_pre_partvol.m

Some editing and reordering in vbm12.txt.

------------------------------------------------------------------------
r464 | gaser | 2013-04-15 12:26:59 +0200 (Mo, 15 Apr 2013) | 5 lines

Changed paths:
M       checkinopt.m

Some editing in checkinopt.m.

------------------------------------------------------------------------
r465 | gaser | 2013-04-15 12:39:36 +0200 (Mo, 15 Apr 2013) | 5 lines

Changed paths:
M       tbx_cfg_vbm.m

Corrected typo in tbx_cfg_vbm.m.

------------------------------------------------------------------------
r466 | gaser | 2013-04-15 14:55:56 +0200 (Mo, 15 Apr 2013) | 23 lines

Changed paths:
D       AmapMexNu.m
M       Makefile.vbm
D       down_cut.mexw64
D       PveAmap_ui.m
D       stat_thresh.m
D       down_cut.mexmaci
D       down_cut.mexglx
D       Pve5Mex.c
D       Pve5Mex.m
D       PveAmap.c
D       PveAmap.h
D       down_cut.mexa64
D       down_cut.c
D       down_cut.mexmaci64
D       KmeansProper.c
D       down_cut.mexw32
D       PveAmapMex.c
D       PveAmapMex.m
D       AmapMexNu.c

Deleted som functions that are not necessary anymore.

------------------------------------------------------------------------
r467 | gaser | 2013-04-15 15:41:40 +0200 (Mo, 15 Apr 2013) | 6 lines

Changed paths:
M       cg_vbm_run.m
M       vbm12.man

Hide warning in cg_vbm_run.m that calls spm_affreg.m.

------------------------------------------------------------------------
r468 | gaser | 2013-04-15 15:52:32 +0200 (Mo, 15 Apr 2013) | 26 lines

Changed paths:
D       ornlmMex.mexmaci
D       ornlmMex.mexw64
D       upfirdn2dMex.mexw64
D       farras.m
D       ornlmMex.c
D       ornlmMex.m
D       ornlmMex.mexmaci64
D       ornlmMex.mexglx
D       upfirdn2dMex.mexglx
D       cg_ornlm.m
D       upfirdn2dMex.c
D       upfirdn2dMex.m
D       upfirdn2dMex.mexmaci64
D       ornlmMex.mexa64
D       upfirdn2dMex.mexa64
D       afb3D.m
D       dwt3D.m
D       cg_check_sample_sd.m
D       ornlm.c
D       ornlmMex.mexw32
D       upfirdn2dMex.mexw32
D       upfirdn2dMex.mexmaci

Removed many functions that are not needed anymore.

------------------------------------------------------------------------
r469 | dahnke | 2013-04-15 16:51:10 +0200 (Mo, 15 Apr 2013) | 17 lines

Changed paths:
 M      .
M       cg_vbm_write.m
A       templates_1.50mm/l1A.nii
A       templates_1.50mm/p0A.nii
A       vbm_io_niiwrite.m
M       vbm_pre_partvol.m
A       vbm_vol_median3c.c
A       vbm_vol_median3c.mexmaci64
D       vbm_vol_write_nii.m

This update include a lot of new methods and function mostly with alpa-status.
(1) Corrections of vbm_vol_write_nii and renaming to vbm_io_niiwrite
(2) Updates partitioning map (l1*).
(3) Adding of atlas map for major regions for l1* map. 
    Runs with default SPM segmentation.

------------------------------------------------------------------------
r470 | gaser | 2013-04-16 13:54:05 +0200 (Di, 16 Apr 2013) | 7 lines

Changed paths:
M       cg_vbm_defaults.m
M       vbm12.man

Changed regularization default to new default of SPM12 r5373.


------------------------------------------------------------------------
r471 | gaser | 2013-04-16 14:31:49 +0200 (Di, 16 Apr 2013) | 15 lines

Changed paths:
M       vbm_vol_iscale.m
M       cg_vbm_batch.m
 M      templates_1.50mm/l1A.nii
 M      templates_1.50mm/p0A.nii
M       cg_vbm_run.m
M       vbm_io_niiwrite.m
M       cg_slice_overlay.m
M       cg_vbm_write.m

(1) Changed regularization default to new default of SPM12 r5373.
(2) Always use .nii as extension in vbm_io_niiwrite.m.
(3) Replaced fileparts by spm_fileparts.


------------------------------------------------------------------------
r472 | dahnke | 2013-04-16 14:44:17 +0200 (Di, 16 Apr 2013) | 10 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_io_niiwrite.m
D       vbm_pre_partvol.m
A       vbm_vol_partvol.m

(1) Update partitioning for Dartel input and remove old normalization code.
(2) Update blood vessel correction in the partitioning routine.


------------------------------------------------------------------------
r473 | dahnke | 2013-04-17 18:12:39 +0200 (Mi, 17 Apr 2013) | 15 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
D       vbm_io_niiwrite.m
A  +    vbm_io_writenii.m
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m
M       vbm_vol_resize.m

(1) Added interpolation and deinterpolation function in vbm_vol_resize for 
    thickness/surface estimation.
(2) Added blood vessel correction.
(3) Correct error in pcT.


------------------------------------------------------------------------
r474 | dahnke | 2013-04-17 18:21:18 +0200 (Mi, 17 Apr 2013) | 5 lines

Changed paths:
M       cg_vbm_write.m

(1) Add a missing variable.

------------------------------------------------------------------------
r475 | gaser | 2013-04-19 10:32:39 +0200 (Fr, 19 Apr 2013) | 6 lines

Changed paths:
M       Makefile.vbm
M       cg_check_cov.m

Some minor changes in cg_check_ocv.m.

------------------------------------------------------------------------
r476 | dahnke | 2013-04-19 17:18:14 +0200 (Fr, 19 Apr 2013) | 25 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       vbm12.txt
MM      vbm_vol_partvol.m
M       vbm_vol_simgrow.c
M       vbm_vol_simgrow.mexmaci64

(1) vbm_vol_partvol:
    Corrected BVC for subjects with thin WM structures (IXI175,OASIS0031). 
    Full head-labeling after resizing. 
    Add correction for unsafe atlas regions (Hippocampus).
    Corrected CSF in subcortical ROI.
(2) Removed prefix detection in vbm_io_writenii.
(3) Corrected extopts fields for BVC and pbt in cg_vbm_defaults.
(4) Update of the skull stipping of VMB12i.
(5) The only intensity corrected output images (m*.nii) is now the bias and 
    noise corrected and intensity normalized images. The locally normalized 
    version is only available for internal operations like the thickness 
    estimation.
(6) vbm_vol_t1qacalc:
    Preprocessing based quality assurance of T1 images. Write image and subject 
    properties to a QA structure with the original measurements and school marks
    rating that based on our experience.  

------------------------------------------------------------------------
r477 | gaser | 2013-04-22 11:08:41 +0200 (Mo, 22 Apr 2013) | 11 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_batch.m
M       cg_vbm_get_defaults.m
M       cg_vbm_write.m

(1) Updated batch call from command line.
(2) Re-added missing mgT and mlT flags to cg_vbm_defaults.m
(3) Changed call job.extopts.BVC to cg_vbm_get_defaults('extopts.BVC')
    in cg_vbm_write.m

------------------------------------------------------------------------
r478 | gaser | 2013-04-22 13:24:17 +0200 (Mo, 22 Apr 2013) | 5 lines

Changed paths:
M       cg_vbm_write.m

Changed some handling with deformation field in cg_vbm_write.m.

------------------------------------------------------------------------
r479 | gaser | 2013-04-22 17:07:28 +0200 (Mo, 22 Apr 2013) | 7 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_run.m
M       cg_vbm_batch.sh

Updated batch system.

------------------------------------------------------------------------
r480 | dahnke | 2013-04-22 18:17:09 +0200 (Mo, 22 Apr 2013) | 18 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
A       findfiles.m
A       vbm_io_cprintf.m
M       vbm_io_writenii.m
M       vbm_io_xml.m
A       vbm_vol_t1qacalc.m

(1) Added group expectation maps - a difference map between tissue probability 
    map and the final label map. 
(2) Minor changes and corrections for variable names.
(3) Added quality assurance routines.
(4) Update error messages for vbm_io_xml.
(5) Add vbm_io_cfprintf for colored command line output.
(6) Update final figure output.


------------------------------------------------------------------------
r481 | dahnke | 2013-04-23 09:58:25 +0200 (Di, 23 Apr 2013) | 8 lines

Changed paths:
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_vol_t1qacalc.m

(1) Minor changes and corrections for variable names.
(2) Updates for VBM12i skull stripping to get more brain tissue.

------------------------------------------------------------------------
r482 | gaser | 2013-04-23 11:24:11 +0200 (Di, 23 Apr 2013) | 6 lines

Changed paths:
M       cg_vbm_batch.sh

cg_vbm_batch.sh now allows to define folder for log-files and uses hostname
for log-file.

------------------------------------------------------------------------
r483 | dahnke | 2013-04-23 15:23:35 +0200 (Di, 23 Apr 2013) | 10 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_vol_partvol.m
M       vbm_vol_resize.m

(1) Minor changes and corrections for variable names.
(2) Updates for VBM12i skull stripping to get more brain tissue.
(3) Correct BVC error in the non-adaptive pipeline.
(4) Correct resizing error in vbm_vol_partvol for highres images. 

------------------------------------------------------------------------
r484 | gaser | 2013-04-29 16:10:33 +0200 (Mo, 29 Apr 2013) | 7 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_batch.m
M       compile.m

Corrected filenames in cg_vbm_batch.m.

------------------------------------------------------------------------
r485 | dahnke | 2013-05-03 18:16:06 +0200 (Fr, 03 Mai 2013) | 26 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       vbm12.txt
A       vbm_io_colormaps.m
M       vbm_io_xml.m
A       vbm_stat_marks.m
M       vbm_vol_partvol.m
M       vbm_vol_t1qacalc.m

(1) Modality check to process PD and T2 images, with intensity inversion for 
    standard preprocessing, if vbm.extopts.INV=1. 
(2) Resolution check to avoid preprocessing of low resolution images.
(3) Added JVM error in vbm_io_xml, if JVM is inactive.
(4) VBM report:
    - Subject specific measures (global volume and thickness).
    - Color-coded marks for a faster overview.
    - Added subject report (vbm_*.ps) file.
    - Added changeable colormaps and colorbar.
    - Added image names.
    - Added vbm-colormaps.
    - Added more flexible output images (mix of different spaces), all images 
      were cropped by the default boundary box.    
(5) Updated MRF-filter setting, where vbm.extopts.mrf=1 will use the adaptive
    MRF-filter strength (default).

------------------------------------------------------------------------
r486 | gaser | 2013-05-07 10:53:11 +0200 (Di, 07 Mai 2013) | 6 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_batch.m

Updated filenames in cg_vbm_batch.m and Makefile.vbm.

------------------------------------------------------------------------
r487 | dahnke | 2013-05-15 11:20:44 +0200 (Mi, 15 Mai 2013) | 35 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_write.m
M       vbm_stat_marks.m
M       vbm_vol_partvol.m

(1) Moving of the partitioning routines before the skull-stripping, to use the 
    atlas map for skull-stripping to allow regional different growing rates.
    Although, now only SPM standard normalization is used, I expect a similar 
    accuracy, because the partitioning use the atlas mostly for initialization  
    followed by a region growing. The partitioning still requires more work to 
    get smoother segments without removing anatomical details. 
(2) Maximum-based bias correction and intensity scaling for global and local
    segmentation.
(3) Less aggressive local adaption with a stronger relation to SPM classes.
(4) Correct an SPM label error, where intracranial BG was labeled as CSF that
    produce CSF mean intensities that were to close to the BG intensity and
    CSF was detected as low GM. Correct also the other "direction" where CGM
(5) The partitioning routine allows now a direct mapping of the basal ganglia
    for maximum-based bias correction and local adaptive segmentation.   
(6) New skull-stripping routine in the LAS pipeline (alpha status) with a harder
    brain extraction to reduce meninges and blood vessels that needs to be a 
    little bit smoother:
    
               DICE     FP    FN
      VBM12i:  0.9632   4437  83478
      VBM12:   0.9720  21337  46823
      
(7) Deactivated BVC for inverse contrast.
(8) Command window output updates:
    - Added colored output for the filename output.
    - Added computation times for preprocessing steps.
    - Added final output with total computation time and with short QA results.
    - Final reduction of Dartel command window output.

------------------------------------------------------------------------
r488 | dahnke | 2013-05-19 16:11:49 +0200 (So, 19 Mai 2013) | 17 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       vbm12.txt
 M      vbm_io_colormaps.m
M       vbm_io_cprintf.m
MM      vbm_stat_marks.m
M       vbm_vol_partvol.m

(1) Corrected resolution error in LAS skull-stripping.
(2) Rewrote parts of the partitioning.
(3) Corrected figure error, if spm_grafics was not the current figure.
(4) Prepare preprocessing for thickness phantom and test thickness measure.
(5) Update partitioning and add error messages for missing structures.



------------------------------------------------------------------------
r489 | gaser | 2013-05-22 10:20:57 +0200 (Mi, 22 Mai 2013) | 8 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_batch.sh
M       vbm12.man

(1) Added missing stime variable in cg_vbm_run.
(2) Log-file for cg_vbm_batch.sh os now saved as default in current folder.

------------------------------------------------------------------------
r490 | dahnke | 2013-05-24 10:02:52 +0200 (Fr, 24 Mai 2013) | 20 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_write.m
M       vbm_vol_partvol.m

This is just a sub-step with experimental elements that I want to save before
I change the next things...
(1) To obtain a better inhomogeneity correction SPM-default Parameter were 
    changed (biasfwhm=30, samp=2), with better results but higher calculation
    time. Strong improvements for highres (Magdeburg7T and HR075) and lowres
    images (NIH1394). This works better than the additional maximum based
    correction and I will remove/uncomment the maximum correction. :/
(2) The Partition work not bad, but it is now very slow (>1 minute) and I have
    optimize many substeps (mostly by resizing to lower resolutions).
(3) Correction of the tissue peak estimation for the global intensity 
    normalization for images with WM lessions (OASIS0031) that lead to error in 
    the skull-stripping.
(4) Skull-Stripping of this version is still to aggressive.

------------------------------------------------------------------------
r491 | dahnke | 2013-05-28 16:48:26 +0200 (Di, 28 Mai 2013) | 22 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_io_updateStruct.m
M       vbm_stat_marks.m
M       vbm_vol_partvol.m
M       vbm_vol_resize.m
M       vbm_vol_t1qacalc.m

(1) Move the noise correction before the SPM preprocessing. 
    Rename *_seg8.mat to vbm12mat_*.mat to have blocks of image/file-types. 
(2) Move the partition behind the local adaptive segmentation, because it can 
    profit from the normalization in all regions and because the local adaptive 
    segmentation only requires the segmentation of the subcortical structures.
    The partitioning still requires some work and of course more test.
(3) Thickness calculation for both sides.
(4) Reduced the number of quality measures (switch-off the new and untested 
    measures) for speed-up. Reduced variables to save memory.
(5) Removed unnecessary variables to save memory. 

------------------------------------------------------------------------
r492 | dahnke | 2013-05-30 16:51:58 +0200 (Do, 30 Mai 2013) | 24 lines

Changed paths:
D       Template_1_IXI550_MNI152.nii
D       Template_2_IXI550_MNI152.nii
D       Template_3_IXI550_MNI152.nii
D       Template_4_IXI550_MNI152.nii
D       Template_5_IXI550_MNI152.nii
D       Template_6_IXI550_MNI152.nii
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_write.m
A       templates_1.50mm/TPM.nii
A       templates_1.50mm/Template_1_IXI550_MNI152.nii
A       templates_1.50mm/Template_2_IXI550_MNI152.nii
A       templates_1.50mm/Template_3_IXI550_MNI152.nii
A       templates_1.50mm/Template_4_IXI550_MNI152.nii
A       templates_1.50mm/Template_5_IXI550_MNI152.nii
A       templates_1.50mm/Template_6_IXI550_MNI152.nii
M       vbm_stat_marks.m
M       vbm_vol_partvol.m
M       vbm_vol_t1qacalc.m

(1) Moved VBM IXI Dartel template to template directory.
(2) Added VBM 7 class segmentation image TPM.nii to template directory.

------------------------------------------------------------------------
r493 | dahnke | 2013-06-27 10:12:27 +0200 (Do, 27 Jun 2013) | 20 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_io_xml.m
M       vbm_stat_marks.m
A       vbm_tst_calc_bias.m
A       vbm_tst_calc_kappa.m
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m
M       vbm_vol_resize.m
M       vbm_vol_t1qacalc.m

(1) Multiple file input for vbm_io_xml.
(2) Corrected ventricle closing problems for large ventricle (OASIS21,4397) and
    small updates of the skull-stripping
(3) Updates of vbm_vol_resize for better support of NaN's in images.
(4) Add kappa and bias estimation test skripts.


------------------------------------------------------------------------
r494 | gaser | 2013-07-09 12:42:46 +0200 (Di, 09 Jul 2013) | 5 lines

Changed paths:
M       cg_vbm_run.m

Cleaned code in cg_vbm_run.m and removed parts that were not necessary anymore.

------------------------------------------------------------------------
r495 | gaser | 2013-07-09 13:05:57 +0200 (Di, 09 Jul 2013) | 14 lines

Changed paths:
 M      vbm_tst_calc_bias.m
 M      templates_1.50mm/Template_1_IXI550_MNI152.nii
 M      templates_1.50mm/Template_2_IXI550_MNI152.nii
 M      templates_1.50mm/Template_3_IXI550_MNI152.nii
 M      templates_1.50mm/Template_4_IXI550_MNI152.nii
 M      templates_1.50mm/Template_5_IXI550_MNI152.nii
 M      templates_1.50mm/Template_6_IXI550_MNI152.nii
 M      templates_1.50mm/TPM.nii
M       cg_vbm_run.m
 M      vbm_tst_calc_kappa.m

Corrected errors in cg_vbm_run.m when already estimated segmentations were used.

------------------------------------------------------------------------
r496 | dahnke | 2013-09-16 17:54:41 +0200 (Mo, 16 Sep 2013) | 24 lines

Changed paths:
M       cg_vbm_write.m
A       vbm_io_cgw2seg.m
A       vbm_io_csv.m
A       vbm_io_remat.m
A       vbm_io_seg2cgw.m
A       vbm_tst_SRS.m
M       vbm_tst_calc_bias.m
M       vbm_tst_calc_kappa.m
A       vbm_tst_pre.m
A       vbm_tst_staple_multilabels.m
A       vbm_vol_average.m
M       vbm_vol_laplace3R.c
M       vbm_vol_laplace3R.mexmaci64
A       vbm_vol_sanlm.m

(1) Add scan-rescan test skripts (vbm_tst_SRS).
(2) Add function to convert p0 segment maps into c1, c2, c3 probability/PVE maps (vbm_io_seg2cgw).
(3) Add function to convert c1, c2, c3 probability/PVE maps into p0 segment maps (vbm_io_cgw2seg).
(4) Add csv-import/export function (vbm_io_csv).
(5) Add average function for images with similar properties to create a median-, mean-, and std image (vbm_vol_average).
(6) Add STAPLE segmentation (vbm_tst_staple_multilabels).
(7) Update quality measures.

------------------------------------------------------------------------
r497 | dahnke | 2013-09-18 13:06:11 +0200 (Mi, 18 Sep 2013) | 20 lines

Changed paths:
 M      templates_1.50mm
A       vbm_check.m
A       vbm_db.m
A       vbm_db_batch.m
 M      vbm_io_cgw2seg.m
MM      vbm_io_csv.m
A       vbm_io_mysql.m
 M      vbm_io_remat.m
MM      vbm_io_seg2cgw.m
 M      vbm_tst_SRS.m
MM      vbm_tst_pre.m
 M      vbm_tst_staple_multilabels.m
A       vbm_tst_t1qa.m
MM      vbm_vol_average.m
MM      vbm_vol_sanlm.m

(1) Add VBM database development files (vbm_db_batch, vbm_db, vbm_io_mysql).
(2) Add QM estimation (vbm_tst_t1qa).

------------------------------------------------------------------------
r498 | gaser | 2013-09-20 09:41:00 +0200 (Fr, 20 Sep 2013) | 10 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_run.m
M       cg_vbm_write.m

(1) Variable Fn in cg_vbm_run.m was not available if "write only" option 
    was used.
(2) Dartel is deselected if nor normalized images need to be saved in 
    cg_vbm_write.m

------------------------------------------------------------------------
r499 | dahnke | 2013-09-20 13:01:10 +0200 (Fr, 20 Sep 2013) | 7 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_write.m
M       compile.m



------------------------------------------------------------------------
r500 | gaser | 2013-09-23 13:04:00 +0200 (Mo, 23 Sep 2013) | 5 lines

Changed paths:

(1) Force to write single typed data in vbm_vol_resize.m for 'dereducebrain'.
(2) Cleaned up some variables to save memory in cg_vbm_write.m.

------------------------------------------------------------------------
r501 | gaser | 2013-09-23 14:56:37 +0200 (Mo, 23 Sep 2013) | 7 lines

Changed paths:
M       vbm_vol_resize.m
M       cg_vbm_write.m

(1) Force to write single typed data in vbm_vol_resize.m for 'dereducebrain'.
(2) Cleaned up some variables to save memory in cg_vbm_write.m.

------------------------------------------------------------------------
r502 | gaser | 2013-09-23 16:41:10 +0200 (Mo, 23 Sep 2013) | 5 lines

Changed paths:
M       cg_vbm_run.m

Option to write already estimated segmentations can now deal with additional denoising in cg_vbm_run.m. 

------------------------------------------------------------------------
r503 | gaser | 2013-09-24 17:02:13 +0200 (Di, 24 Sep 2013) | 21 lines

Changed paths:
M       vbdist.mexglx
M       vbm_vol_gradient3.c
M       AmapMex.mexa64
M       vbdist.mexa64
M       AmapMex.mexw32
M       vbdist.mexw32
M       vbm_vol_downcut.c
M       sanlmMex_noopenmp.mexglx
M       vbm_vol_eikonal3.c
M       sanlmMex.mexglx
M       vbm_vol_laplace3R.c
M       vbm_vol_laplace3.c
M       vbm_vol_interp3f.cpp
M       sanlmMex_noopenmp.mexa64
M       sanlmMex.mexa64
M       AmapMex.mexglx

(1) Modified c/c++ code to allow compiling for linux/windows.
(2) Re-compiling for linux/windows.

------------------------------------------------------------------------
r504 | gaser | 2013-09-24 17:13:20 +0200 (Di, 24 Sep 2013) | 8 lines

Changed paths:
M       compile.m
M       sanlmMex.mexa64

(1) Modified c/c++ code to allow compiling for linux/windows.
(2) Re-compiling for linux/windows.
(3) Changed compile.m to consider new paths for libgomp.a.

------------------------------------------------------------------------
r505 | gaser | 2013-09-25 13:04:05 +0200 (Mi, 25 Sep 2013) | 19 lines

Changed paths:
M       vbm_vol_median3.mexmaci64
M       vbm_vol_gradient3.mexmaci64
M       AmapMex.mexmaci64
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_eikonal3.mexmaci64
M       sanlmMex.mexmaci64
M       vbm_vol_laplace3R.mexmaci64
M       vbdist.mexmaci64
M       sanlmMex_noopenmp.mexmaci64
M       vbm_vol_laplace3.mexmaci64
M       cg_vbm_write.m
M       vbm_vol_interp3f.mexmaci64

(1) Removed bug in cg_vbm_writewhere no img-files could be used if 
    SANLM-filter was used and nii-extension was forced.
(2) Re-compiling for macosx.


------------------------------------------------------------------------
r506 | gaser | 2013-09-25 16:42:06 +0200 (Mi, 25 Sep 2013) | 7 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_write.m

Many changes to cg_vbm_write and cg_vbm_run to clean up the mess with the
filenames.

------------------------------------------------------------------------
r507 | gaser | 2013-09-30 12:54:54 +0200 (Mo, 30 Sep 2013) | 8 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_write.m

(1) Removed unused paramter Fn from cg_vbm_run.m.
(2) Again some cleaning of filenames in cg_vbm_write.m and removing some minor
    typos and bugs.

------------------------------------------------------------------------
r508 | gaser | 2013-10-14 16:33:59 +0200 (Mo, 14 Okt 2013) | 24 lines

Changed paths:
M       sanlmMex.mexw32
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_pbtp.cpp
M       AmapMex.mexw32
M       compile.m
M       vbm_vol_simgrow.c
M       vbm_vol_simgrow.mexmaci64
M       sanlmMex.mexw64
M       vbdist.mexw32
M       sanlmMex.mexglx
M       AmapMex.mexw64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_localstat.c
M       vbm12.man
M       vbm_vol_localstat.mexmaci64
M       vbdist.mexw64
M       vbm_vol_eidist.cpp
M       vbm_vol_median3c.mexmaci64

(1) Added missing files to compile.m.
(2) Modified c/c++ code to allow compiling for linux/windows.
(3) Re-compiling for all platforms.

------------------------------------------------------------------------
r509 | gaser | 2013-10-14 16:35:33 +0200 (Mo, 14 Okt 2013) | 52 lines

Changed paths:
A       vbm_vol_pbtp.mexa64
A       vbm_vol_laplace3.mexw64
A       vbm_vol_median3.mexglx
A       vbm_vol_gradient3.mexglx
A       vbm_vol_eidist.mexa64
A       vbm_vol_eikonal3.mexw32
A       vbm_vol_interp3f.mexglx
A       vbm_vol_median3c.mexw32
A       vbm_vol_simgrow.mexw32
A       vbm_vol_downcut.mexw64
A       vbm_vol_laplace3.mexglx
A       vbm_vol_pbtp.mexw32
A       vbm_vol_laplace3R.mexw64
A       vbm_vol_eidist.mexw32
A       vbm_vol_localstat.mexw64
A       vbm_vol_gradient3.mexa64
A       vbm_vol_median3.mexa64
A       vbm_vol_downcut.mexglx
A       vbm_vol_interp3f.mexa64
A       vbm_vol_laplace3R.mexglx
A       vbm_vol_laplace3.mexa64
A       vbm_vol_localstat.mexglx
A       vbm_vol_eikonal3.mexw64
A       vbm_vol_gradient3.mexw32
A       vbm_vol_median3.mexw32
A       vbm_vol_median3c.mexw64
A       vbm_vol_interp3f.mexw32
A       vbm_vol_simgrow.mexw64
A       vbm_vol_downcut.mexa64
A       vbm_vol_pbtp.mexw64
A       vbm_vol_laplace3.mexw32
A       vbm_vol_eikonal3.mexglx
A       vbm_vol_laplace3R.mexa64
A       vbm_vol_eidist.mexw64
A       vbm_vol_median3c.mexglx
A       vbm_vol_localstat.mexa64
A       vbm_vol_simgrow.mexglx
A       vbm_vol_downcut.mexw32
A       vbm_vol_pbtp.mexglx
A       vbm_vol_eidist.mexglx
A       vbm_vol_laplace3R.mexw32
A       vbm_vol_eikonal3.mexa64
A       vbm_vol_gradient3.mexw64
A       vbm_vol_median3.mexw64
A       vbm_vol_localstat.mexw32
A       vbm_vol_interp3f.mexw64
A       vbm_vol_median3c.mexa64
A       vbm_vol_simgrow.mexa64

Added missing mex-files.

------------------------------------------------------------------------
r510 | gaser | 2013-10-14 18:33:37 +0200 (Mo, 14 Okt 2013) | 7 lines

Changed paths:
M       Kmeans.c
M       vollib.c
M       vbm12.man

Replaced fprintf with printf to allow output for windows platforms.

------------------------------------------------------------------------
r511 | gaser | 2013-10-15 09:55:38 +0200 (Di, 15 Okt 2013) | 55 lines

Changed paths:
 M      vbm_vol_pbtp.mexa64
 M      vbm_vol_laplace3.mexw64
 M      vbm_vol_gradient3.mexglx
 M      vbm_vol_median3.mexglx
 M      vbm_vol_eidist.mexa64
 M      vbm_vol_eikonal3.mexw32
 M      vbm_vol_interp3f.mexglx
 M      vbm_vol_median3c.mexw32
 M      vbm_vol_simgrow.mexw32
 M      vbm_vol_downcut.mexw64
 M      vbm_vol_laplace3.mexglx
 M      vbm_vol_pbtp.mexw32
 M      vbm_vol_laplace3R.mexw64
 M      vbm_vol_eidist.mexw32
 M      vbm_vol_localstat.mexw64
 M      vbm_vol_median3.mexa64
 M      vbm_vol_gradient3.mexa64
 M      vbm_vol_downcut.mexglx
 M      vbm_vol_interp3f.mexa64
 M      vbm_vol_laplace3R.mexglx
M       AmapMex.c
 M      vbm_vol_laplace3.mexa64
 M      vbm_vol_localstat.mexglx
 M      vbm_vol_eikonal3.mexw64
M       AmapMex.mexmaci64
 M      vbm_vol_median3.mexw32
 M      vbm_vol_gradient3.mexw32
 M      vbm_vol_median3c.mexw64
 M      vbm_vol_interp3f.mexw32
 M      vbm_vol_simgrow.mexw64
 M      vbm_vol_downcut.mexa64
 M      vbm_vol_pbtp.mexw64
 M      vbm_vol_laplace3.mexw32
 M      vbm_vol_eikonal3.mexglx
 M      vbm_vol_laplace3R.mexa64
 M      vbm_vol_eidist.mexw64
 M      vbm_vol_median3c.mexglx
 M      vbm_vol_localstat.mexa64
 M      vbm_vol_simgrow.mexglx
 M      vbm_vol_downcut.mexw32
 M      vbm_vol_pbtp.mexglx
 M      vbm_vol_eidist.mexglx
M       KmeansMex.c
 M      vbm_vol_laplace3R.mexw32
 M      vbm_vol_eikonal3.mexa64
 M      vbm_vol_gradient3.mexw64
 M      vbm_vol_median3.mexw64
 M      vbm_vol_localstat.mexw32
 M      vbm_vol_interp3f.mexw64
 M      vbm_vol_median3c.mexa64
 M      vbm_vol_simgrow.mexa64

Replaced malloc in AmapMex.c with mxMalloc.

------------------------------------------------------------------------
r512 | gaser | 2013-10-15 10:02:34 +0200 (Di, 15 Okt 2013) | 7 lines

Changed paths:
M       AmapMex.c
M       AmapMex.mexmaci64
M       KmeansMex.c

Replaced free in AmapMex.c and KmeanMex.c with mxFree.

------------------------------------------------------------------------
r513 | dahnke | 2013-10-26 18:35:40 +0200 (Sa, 26 Okt 2013) | 49 lines

Changed paths:
M       CHANGES.txt
M       cg_vbm_batch.sh
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_io_colormaps.m
A       vbm_io_img2nii.m
M       vbm_io_updateStruct.m
M       vbm_io_writenii.m
M       vbm_io_xml.m
A       vbm_plot_boxplot.m
M       vbm_tst_pre.m
A       vbm_tst_qa_groups.m
A       vbm_tst_qa_groups_test.m
M       vbm_tst_t1qa.m
M       vbm_vol_partvol.m
M       vbm_vol_sanlm.m

(1)  Updates of cg_vbm_batch.sh:
     - add symbolic link detection in subfunction check_files
     - add checks for subfunction get_no_of_cpus to limit the number of jobs 
       by the number of processors
     - add options:
       -n   nice level
       -s   shell command
       -f   file with files to process 
            got a system error 127 for a large number (>1000) of files for 
            direct input  
       -np  set number of free processors/cores, to have always on free 
            processor/core (-np 1)
(2)  Update vbm_io_xml write with orderfields function. 
(3)  Add verbose option for vbm_io_xml to get feedback for reading large number
     of files (>1000). 
(4)  Add prefix-variable for vbm_pre_sanlm.
(5)  Further QMs in vbm_tst_t1qa.
(6)  Replace struct2array in vbm_vol_partvol and cg_vbm_write, because the 
     function was remove in newer MATLAB versions.
(7)  Add parameter to control gcut+ Skull-Stripping.
(8)  Add some comments.
(9)  Add vbm_tst_qa_groups[_test] for QA analysis.
(10) Add vbm_io_img2nii to convert analyse files to nifti.
(11) Correct error in vbm_io_colormaps (number of colors).
(12) Add skull-stripping strength variable that controls, different parameter 
     like intensity-thresholds, region-growing-parameter, closing and smoothness
     parameter. The parameter should be between 0 and 1, with 0 for wider and  
     smoother masks and 1 for harder results (default 0.5).
     

------------------------------------------------------------------------
r514 | dahnke | 2013-10-28 18:22:52 +0100 (Mo, 28 Okt 2013) | 27 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
A       templates_1.50mm/aal.nii
A       templates_1.50mm/brodmann.nii
M       vbm_io_writenii.m
M       vbm_tst_pre.m
M       vbm_tst_t1qa.m
M       vbm_vol_eidist.cpp
M       vbm_vol_eidist.mexmaci64

(1)  Add masked export option for vbm_io_writenii for a correct mapping of local
     defined maps like the cortical thickness map th1.
(2)  Add label export option for vbm_io_writenii for a correct mapping of atlas 
     maps l#.
(3)  Add 2 atlas maps (aal, brodmann) to template_1.50mm directory and a simple
     mapping routine without further refinements. (The *.csv Files of both are 
     still missing, but for a first test its ok). 
(4)  Simplify m* output, where also the locally intensity corrected image of the 
     LAS part is saved under this name.
(5)  Correct segmentation input for the gcut+ path. Previous, old SPM maps lead 
     to problems with the skull-stripping. 
(6)  Add a function that estimates the volumes, intensity and thickness values 
     for each ROI of the atlas maps in subject space and write this data to a 
     csv-file per atlas and to the vbm_*.xml.

------------------------------------------------------------------------
r515 | dahnke | 2013-10-30 15:47:16 +0100 (Mi, 30 Okt 2013) | 8 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       vbm_io_writenii.m

(1)  Add ROI export for normalized space.


------------------------------------------------------------------------
r516 | gaser | 2013-11-01 08:12:22 +0100 (Fr, 01 Nov 2013) | 5 lines

Changed paths:
M       tbx_cfg_vbm.m

Removed some typos.

------------------------------------------------------------------------
r517 | gaser | 2013-11-06 12:43:55 +0100 (Mi, 06 Nov 2013) | 10 lines

Changed paths:
M       cg_cfg_realign.m
M       cg_vbm_tools.m
M       tbx_cfg_vbm.m
 M      templates_1.50mm/aal.nii
 M      templates_1.50mm/brodmann.nii

Changed strtype-parameters from 'e' to either 'r' (real value) or 'n' (integer)
according to new spm12b update r5731.

------------------------------------------------------------------------
r518 | dahnke | 2013-11-07 13:11:56 +0100 (Do, 07 Nov 2013) | 44 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_defs.m
M       cg_vbm_write.m
M       compile.m
A       spm_def2det.c
A       spm_def2det.mexa64
A       spm_def2det.mexglx
A       spm_def2det.mexmaci
A       spm_def2det.mexmaci64
A       spm_def2det.mexw32
A       spm_def2det.mexw64
M       tbx_cfg_vbm.m
A       templates_1.50mm/aal.csv
M       templates_1.50mm/aal.nii
A       templates_1.50mm/anatomy.csv
A       templates_1.50mm/anatomy.nii
A       templates_1.50mm/hammers.csv
A       templates_1.50mm/hammers.nii
A       templates_1.50mm/ibsr.csv
A       templates_1.50mm/ibsr.nii
A       templates_1.50mm/jhu.nii
M       vbm_io_csv.m
M       vbm_io_writenii.m
A       vbm_vol_atlas.m
A       vbm_vol_eidist.c
D       vbm_vol_eidist.cpp
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexmaci64

(1)  Add atlas maps for alpha tests.
     1) IBSR:     label map of 18 subjects (major & subcortical ROIs)
     2) Hammers:  label map of 20 subjects (major, neocortex & subcortical ROIs) 
     3) JHU:      label map of  1 subject with complete labeling 
     4) AAL:      label map of  1 subject with complete labeling (Collins)
     5) Anatomy:  label map of 10 persons with incomplete labeling
(2)  Add spm_def2det temporary for cg_vbm_defs, because it was removed in VBM12.
(3)  Atlas generation scripts.
(4)  Replace vbm_vol_eidist.cpp by vbm_vol_eidist.c.
(5)  Update vbm_vol_localstat by median-like filteroption.
(6)  Update vbm_io_writenii for masking and label mapping.
(7)  Update ROI options in cg_vbm_defaults. 

------------------------------------------------------------------------
r519 | gaser | 2013-11-13 13:35:38 +0100 (Mi, 13 Nov 2013) | 6 lines

Changed paths:
M       tbx_cfg_vbm.m
M       vbm12.man

Corrected wrong datatype for gcut+ strnegth in tbx_cfg_vbm.m

------------------------------------------------------------------------
r520 | dahnke | 2013-11-19 08:46:54 +0100 (Di, 19 Nov 2013) | 38 lines

Changed paths:
M       CHANGES.txt
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       ds.m
D       images
M       tbx_cfg_vbm.m
M       templates_1.50mm/aal.csv
M       templates_1.50mm/aal.nii
A       templates_1.50mm/aal.txt
M       templates_1.50mm/anatomy.csv
M       templates_1.50mm/anatomy.nii
A       templates_1.50mm/anatomy.txt
M       templates_1.50mm/hammers.csv
M       templates_1.50mm/hammers.nii
A       templates_1.50mm/hammers.txt
M       templates_1.50mm/ibsr.csv
M       templates_1.50mm/ibsr.nii
A       templates_1.50mm/ibsr.txt
D       templates_1.50mm/jhu.nii
A       templates_1.50mm/mori.csv
A       templates_1.50mm/mori.nii
A       templates_1.50mm/mori.txt
M       vbm_io_writenii.m
M       vbm_tst_pre.m
M       vbm_vol_atlas.m
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexmaci64

(1)  Update VBM Menu. 
(2)  Removed thickness maps output.
(3)  Update vbm_vol_atlas (skript for atlas creation), with merging of different
     ROIs and final side alignment with left (odd) and right (even) labels.
(4)  Update all atlas maps. Add a text-file with most important atlas information 
     and a csv-file for ROI-IDs, ROI-names, and ROI-appresservation. 
(5)  Create subfunctions for ROI mapping and value estimation.
(6)  Correct "projection" error in vbm_io_writenii for images without mask.

------------------------------------------------------------------------
r521 | gaser | 2013-11-19 13:16:08 +0100 (Di, 19 Nov 2013) | 17 lines

Changed paths:
M       cg_cfg_realign.m
M       cg_vbm_defaults.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
MM      spm_def2det.c
 M      spm_def2det.mexa64
 M      spm_def2det.mexglx
 M      spm_def2det.mexmaci
 M      spm_def2det.mexmaci64
 M      spm_def2det.mexw32
 M      spm_def2det.mexw64
M       vbm12.man

Removed some bugs in cg_vbm_write.m and removed flags that are not needed
anymore in cg_vbm_defaults.m.

------------------------------------------------------------------------
r522 | gaser | 2013-11-19 15:13:36 +0100 (Di, 19 Nov 2013) | 12 lines

Changed paths:
M       cg_vbm_batch.m
MM      templates_1.50mm/aal.txt
MM      templates_1.50mm/anatomy.txt
 M      templates_1.50mm/mori.csv
 M      templates_1.50mm/mori.nii
MM      templates_1.50mm/mori.txt
M       vbm_io_writenii.m

Some small changes in cg_vbm_batch.m and changed names for affine files
in vbmi_io_writenii.m

------------------------------------------------------------------------
r523 | dahnke | 2013-11-20 12:53:33 +0100 (Mi, 20 Nov 2013) | 24 lines

Changed paths:
A       CAT
A       CAT/CAT_DeformSurf
A       CAT/CAT_DeformSurf_ui
A       CAT/CAT_FixTopology
A       CAT/CAT_SeparateCluster
A       CAT/CAT_SeparatePolygon
A       CAT/CAT_Surf2Sphere
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
A       vbm_io_FreeSurfer.m
M       vbm_io_writenii.m
A       vbm_surf_createCS.m
M       vbm_tst_pre.m
M       vbm_vol_resize.m

(1)  Corrected jacobian output.
(2)  Update thickness estimation and move it to vbm_surf_createCS. 
(3)  Add surface reconstruction and thickness estimation (vbm_surf_createCS).
     This function include the topology correction and shape refinements for 
     left and right hemispheres. The option "vbm.extopts.surface" in the 
     cg_vbm_defaults-file controls surface estimation. 

------------------------------------------------------------------------
r524 | gaser | 2013-11-22 16:27:45 +0100 (Fr, 22 Nov 2013) | 81 lines

Changed paths:
D       CAT
D       CAT/CAT_DeformSurf
D       CAT/CAT_DeformSurf_ui
D       CAT/CAT_FixTopology
D       CAT/CAT_SeparateCluster
D       CAT/CAT_SeparatePolygon
D       CAT/CAT_Surf2Sphere
A       CAT.glnx86
A       CAT.glnx86/CAT_3dVol2Surf
A       CAT.glnx86/CAT_AddValuesToSurf
A       CAT.glnx86/CAT_BlurSurfHK
A       CAT.glnx86/CAT_DeformSurf
A       CAT.glnx86/CAT_DeformSurf_ui
A       CAT.glnx86/CAT_DumpCurv
A       CAT.glnx86/CAT_DumpGI
A       CAT.glnx86/CAT_FixTopology
A       CAT.glnx86/CAT_FractalDimension
A       CAT.glnx86/CAT_Isometize
A       CAT.glnx86/CAT_LBConformalMap
A       CAT.glnx86/CAT_Obj2Neurolens
A       CAT.glnx86/CAT_ReconSurf
A       CAT.glnx86/CAT_ResampleFS_ui
A       CAT.glnx86/CAT_ResampleSphericalSurf
A       CAT.glnx86/CAT_ResampleSurf
A       CAT.glnx86/CAT_SeparatePolygon
A       CAT.glnx86/CAT_Surf2Sphere
A       CAT.glnx86/CAT_WarpSurf
A  +    CAT.maci64
A       CAT.maci64/CAT_3dVol2Surf
A       CAT.maci64/CAT_AddValuesToSurf
A       CAT.maci64/CAT_BlurSurfHK
M  +    CAT.maci64/CAT_DeformSurf
D  +    CAT.maci64/CAT_DeformSurf_ui
A       CAT.maci64/CAT_DumpCurv
A       CAT.maci64/CAT_DumpGI
M  +    CAT.maci64/CAT_FixTopology
A       CAT.maci64/CAT_FractalDimension
A       CAT.maci64/CAT_Isometize
A       CAT.maci64/CAT_LBConformalMap
A       CAT.maci64/CAT_ResampleSphericalSurf
A       CAT.maci64/CAT_ResampleSurf
D  +    CAT.maci64/CAT_SeparateCluster
M  +    CAT.maci64/CAT_SeparatePolygon
M  +    CAT.maci64/CAT_Surf2Sphere
A       CAT.maci64/CAT_WarpSurf
A       CAT.win32
A       CAT.win32/CAT_3dVol2Surf.exe
A       CAT.win32/CAT_AddValuesToSurf.exe
A       CAT.win32/CAT_BlurSurfHK.exe
A       CAT.win32/CAT_DeformSurf.exe
A       CAT.win32/CAT_DumpCurv.exe
A       CAT.win32/CAT_DumpGI.exe
A       CAT.win32/CAT_FixTopology.exe
A       CAT.win32/CAT_FractalDimension.exe
A       CAT.win32/CAT_Isometize.exe
A       CAT.win32/CAT_LBConformalMap.exe
A       CAT.win32/CAT_ResampleSphericalSurf.exe
A       CAT.win32/CAT_ResampleSurf.exe
A       CAT.win32/CAT_SeparatePolygon.exe
A       CAT.win32/CAT_Surf2Sphere.exe
A       CAT.win32/CAT_WarpSurf.exe
M       Makefile.vbm
M       cg_vbm_defaults.m
M       cg_vbm_write.m
A       fsaverage
A       fsaverage/lh.smoothwm
A       fsaverage/lh.sphere
A       fsaverage/rh.smoothwm
A       fsaverage/rh.sphere
M       vbm_io_FreeSurfer.m
M       vbm_surf_createCS.m

(1) Corrected output for texture files (e.g. thickness) in vbm_io_FreeSurfer.m.
(2) Thickness (ROI) output is only provided if extopts.surface is set in
    cg_vbm_defaults.m.
(3) Added executables for CAT.
(4) Changed system calls in vbm_surf_createCS.
(5) Added and changed surface filenames according to freesurfer notation.


------------------------------------------------------------------------
r525 | gaser | 2013-11-22 16:28:59 +0100 (Fr, 22 Nov 2013) | 10 lines

Changed paths:

(1) Corrected output for texture files (e.g. thickness) in vbm_io_FreeSurfer.m.
(2) Thickness (ROI) output is only provided if extopts.surface is set in
    cg_vbm_defaults.m.
(3) Added executables for CAT.
(4) Changed system calls in vbm_surf_createCS.
(5) Added and changed surface filenames according to freesurfer notation.


------------------------------------------------------------------------
r526 | gaser | 2013-11-25 11:50:55 +0100 (Mo, 25 Nov 2013) | 53 lines

Changed paths:
 M      CAT.glnx86/CAT_3dVol2Surf
 M      CAT.glnx86/CAT_AddValuesToSurf
 M      CAT.glnx86/CAT_BlurSurfHK
 M      CAT.glnx86/CAT_DeformSurf
MM      CAT.glnx86/CAT_DeformSurf_ui
 M      CAT.glnx86/CAT_DumpCurv
 M      CAT.glnx86/CAT_DumpGI
 M      CAT.glnx86/CAT_FixTopology
 M      CAT.glnx86/CAT_FractalDimension
 M      CAT.glnx86/CAT_Isometize
 M      CAT.glnx86/CAT_LBConformalMap
 M      CAT.glnx86/CAT_Obj2Neurolens
MM      CAT.glnx86/CAT_ReconSurf
MM      CAT.glnx86/CAT_ResampleFS_ui
 M      CAT.glnx86/CAT_ResampleSphericalSurf
 M      CAT.glnx86/CAT_ResampleSurf
 M      CAT.glnx86/CAT_SeparatePolygon
 M      CAT.glnx86/CAT_Surf2Sphere
 M      CAT.glnx86/CAT_WarpSurf
MM      CAT.maci64/CAT_3dVol2Surf
 M      CAT.maci64/CAT_AddValuesToSurf
 M      CAT.maci64/CAT_BlurSurfHK
 M      CAT.maci64/CAT_DumpCurv
 M      CAT.maci64/CAT_DumpGI
MM      CAT.maci64/CAT_FractalDimension
MM      CAT.maci64/CAT_Isometize
 M      CAT.maci64/CAT_LBConformalMap
 M      CAT.maci64/CAT_ResampleSphericalSurf
 M      CAT.maci64/CAT_ResampleSurf
MM      CAT.maci64/CAT_WarpSurf
MM      CAT.win32/CAT_3dVol2Surf.exe
MM      CAT.win32/CAT_AddValuesToSurf.exe
MM      CAT.win32/CAT_BlurSurfHK.exe
MM      CAT.win32/CAT_DeformSurf.exe
MM      CAT.win32/CAT_DumpCurv.exe
MM      CAT.win32/CAT_DumpGI.exe
MM      CAT.win32/CAT_FixTopology.exe
MM      CAT.win32/CAT_FractalDimension.exe
MM      CAT.win32/CAT_Isometize.exe
MM      CAT.win32/CAT_LBConformalMap.exe
MM      CAT.win32/CAT_ResampleSphericalSurf.exe
MM      CAT.win32/CAT_ResampleSurf.exe
MM      CAT.win32/CAT_SeparatePolygon.exe
MM      CAT.win32/CAT_Surf2Sphere.exe
MM      CAT.win32/CAT_WarpSurf.exe
MM      fsaverage/lh.smoothwm
 M      fsaverage/lh.sphere
MM      fsaverage/rh.smoothwm
 M      fsaverage/rh.sphere

Updated binaries for CAT.

------------------------------------------------------------------------
r527 | gaser | 2013-11-25 16:35:00 +0100 (Mo, 25 Nov 2013) | 19 lines

Changed paths:
M       CAT.maci64/CAT_3dVol2Surf
M       CAT.maci64/CAT_AddValuesToSurf
M       CAT.maci64/CAT_BlurSurfHK
M       CAT.maci64/CAT_DeformSurf
M       CAT.maci64/CAT_DumpCurv
M       CAT.maci64/CAT_DumpGI
M       CAT.maci64/CAT_FixTopology
M       CAT.maci64/CAT_FractalDimension
M       CAT.maci64/CAT_Isometize
M       CAT.maci64/CAT_LBConformalMap
M       CAT.maci64/CAT_ResampleSphericalSurf
M       CAT.maci64/CAT_ResampleSurf
M       CAT.maci64/CAT_SeparatePolygon
M       CAT.maci64/CAT_Surf2Sphere
M       CAT.maci64/CAT_WarpSurf

Updated binaries for CAT.maci.

------------------------------------------------------------------------
r528 | gaser | 2013-11-25 16:52:42 +0100 (Mo, 25 Nov 2013) | 4 lines

Changed paths:

Updated binaries for CAT.maci.

------------------------------------------------------------------------
r529 | gaser | 2013-11-25 16:56:48 +0100 (Mo, 25 Nov 2013) | 23 lines

Changed paths:
D       CAT.glnx86/CAT_DeformSurf_ui
D       CAT.glnx86/CAT_Obj2Neurolens
D       CAT.glnx86/CAT_ReconSurf
D       CAT.glnx86/CAT_ResampleFS_ui
RM      CAT.maci64/CAT_3dVol2Surf
RM      CAT.maci64/CAT_AddValuesToSurf
RM      CAT.maci64/CAT_BlurSurfHK
RM      CAT.maci64/CAT_DeformSurf
RM      CAT.maci64/CAT_DumpCurv
RM      CAT.maci64/CAT_DumpGI
RM      CAT.maci64/CAT_FixTopology
RM      CAT.maci64/CAT_FractalDimension
RM      CAT.maci64/CAT_Isometize
RM      CAT.maci64/CAT_LBConformalMap
RM      CAT.maci64/CAT_ResampleSphericalSurf
RM      CAT.maci64/CAT_ResampleSurf
RM      CAT.maci64/CAT_SeparatePolygon
RM      CAT.maci64/CAT_Surf2Sphere
RM      CAT.maci64/CAT_WarpSurf

Updated binaries for CAT.maci.

------------------------------------------------------------------------
r530 | gaser | 2013-11-25 16:57:29 +0100 (Mo, 25 Nov 2013) | 4 lines

Changed paths:

Updated binaries for CAT.maci.

------------------------------------------------------------------------
r531 | dahnke | 2013-11-27 18:47:09 +0100 (Mi, 27 Nov 2013) | 26 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
D       findfiles.m
M       tbx_cfg_vbm.m
M       vbm12.txt
M       vbm_db.m
A  +    vbm_findfiles.m
M       vbm_surf_createCS.m
M       vbm_tst_SRS.m
M       vbm_tst_pre.m
M       vbm_tst_qa_groups_test.m
M       vbm_tst_t1qa.m
M       vbm_vol_atlas.m
M       vbm_vol_pbt.m
M       vbm_vol_resize.m
M       vbm_vol_t1qacalc.m

(1)  Updated surface output names in 'cg_vbm_defaults-file'.
(2)  Changed function-name 'findfiles' to 'vbm_findfiles'. 
(3)  Updated command line output of surface pipeline.
(4)  Added debugging parameter to 'cg_vbm_defaults'.
(5)  Added surface parameter to GUI.
(6)  Deactivated surface refinement due to position error. 

------------------------------------------------------------------------
r532 | gaser | 2013-11-28 16:21:49 +0100 (Do, 28 Nov 2013) | 37 lines

Changed paths:
M       AmapMex.mexmaci64
MM      CAT.maci64/CAT_3dVol2Surf
 M      CAT.maci64/CAT_AddValuesToSurf
 M      CAT.maci64/CAT_BlurSurfHK
 M      CAT.maci64/CAT_DeformSurf
 M      CAT.maci64/CAT_DumpCurv
 M      CAT.maci64/CAT_DumpGI
MM      CAT.maci64/CAT_FixTopology
MM      CAT.maci64/CAT_FractalDimension
MM      CAT.maci64/CAT_Isometize
 M      CAT.maci64/CAT_LBConformalMap
 M      CAT.maci64/CAT_ResampleSphericalSurf
 M      CAT.maci64/CAT_ResampleSurf
 M      CAT.maci64/CAT_SeparatePolygon
 M      CAT.maci64/CAT_Surf2Sphere
MM      CAT.maci64/CAT_WarpSurf
M       cg_vbm_write.m
M       sanlmMex.mexmaci64
M       vbdist.mexmaci64
M       vbm_surf_createCS.m
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eikonal3.mexmaci64
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_simgrow.mexmaci64

(1) Added subtle surface smoothing after topology correction.
(2) Removed bug in cg_vbm_write caused by nonexisting 'left' field.

------------------------------------------------------------------------
r533 | gaser | 2013-11-29 08:10:16 +0100 (Fr, 29 Nov 2013) | 5 lines

Changed paths:
M       CAT.maci64/CAT_FixTopology

Modified CAT_FixTopology.

------------------------------------------------------------------------
r534 | gaser | 2013-11-29 13:04:04 +0100 (Fr, 29 Nov 2013) | 26 lines

Changed paths:
M       CAT.maci64/CAT_3dVol2Surf
M       CAT.maci64/CAT_AddValuesToSurf
M       CAT.maci64/CAT_BlurSurfHK
M       CAT.maci64/CAT_DeformSurf
M       CAT.maci64/CAT_DumpCurv
M       CAT.maci64/CAT_DumpGI
M       CAT.maci64/CAT_FixTopology
M       CAT.maci64/CAT_FractalDimension
M       CAT.maci64/CAT_Isometize
M       CAT.maci64/CAT_LBConformalMap
M       CAT.maci64/CAT_ResampleSphericalSurf
M       CAT.maci64/CAT_ResampleSurf
M       CAT.maci64/CAT_SeparatePolygon
M       CAT.maci64/CAT_Surf2Sphere
M       CAT.maci64/CAT_WarpSurf
M       cg_vbm_batch.sh
M       cg_vbm_write.m
M       vbm_surf_createCS.m

(1) Many changes in cg_vbm_write to prevent division by zero and negative
    and floating values for uint8.
(2) Changed handling of error message inside try-catch (now with e=lasterror).
(3) Added smoothing parameter for CAT_BlurSurfHK in vbm_surf_createCS.m.
(4) Replaced some corrupt binaries for maci64.

------------------------------------------------------------------------
r535 | dahnke | 2013-12-04 18:51:36 +0100 (Mi, 04 Dez 2013) | 55 lines

Changed paths:
M       AmapMex.c
M       AmapMex.mexmaci64
M       CAT.maci64/CAT_FixTopology
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_plot_boxplot.m
A       vbm_stat_nanmean.m
A       vbm_stat_nanmedian.m
A       vbm_stat_nanstd.m
M       vbm_surf_createCS.m
M       vbm_tst_SRS.m
M       vbm_tst_calc_bias.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
M       vbm_tst_qa_groups.m
M       vbm_tst_staple_multilabels.m
M       vbm_tst_t1qa.m
M       vbm_vol_atlas.m
M       vbm_vol_average.m
M       vbm_vol_iscale.m
M       vbm_vol_nanmean3.m
M       vbm_vol_partvol.m
M       vbm_vol_resize.m
M       vbm_vol_smooth3X.m
M       vbm_vol_t1qacalc.m

(1)  Renamed 'vbm_*.ps' to 'vbmreport_*' for correct spm-sorting of filetypes.
(2)  Added experimental WM hyperintensity (WMH) correction (extopts.WMHC), WMH 
     detection (vbm_vol_partioning) and WMH correction (in cg_write_vol).
     WARNING: This code is in a very early development step and do not work yet
              and default extopts.WMHC=0!
(3)  Added variable (extopts.gcutCSF) to modify the gcut+ skull-stripping to 
     obtain more surrounding CSF.  
     WARNING: CSF contrast depend strongly on the MR-protocol, and high contrast 
              images may have a similar intensity of CSF, background and bone!
              Therefore CSF segment quality can vary strongly for multi-protocol
              VBM, and extopts.gcutCSF may be turned off!
              Added a warning for this case.
(4)  Updated mean tissue intensity estimation for global intensity correction.
(5)  Replaced MATLAB toolbox nan-functions and calls by own methods:
     vbm_stat_nanmean,vbm_stat_nanstd,vbm_stat_nanmedian
(6)  Created subfunctions for longer parts in cg_vbm_write to increase readability
     may with some cost of memory (but this should be no critical part):
      (a) the global intensity normalization (vbm_pre_gintnorm)
      (b) fast partitioning for major brain structures (vbm_pre_fastpart)
      (c) brain and maximum-based bias correction B3C (vbm_pre_B3C)
      (d) calc preprocessing expectation map (vbm_qa_calcTE)
(7)  Created subfunctions for often used parts in cg_vbm_write:
      (a) egde image Yg (vbm_vol_grad)
      (b) fast divergence image Ydiv (vbm_vol_div)     
(8)  Corrected output for atlas, te, pc images in tbx_cfg_vbm and cg_vbm_batch.

------------------------------------------------------------------------
r536 | gaser | 2013-12-09 10:36:38 +0100 (Mo, 09 Dez 2013) | 16 lines

Changed paths:
M       CAT.maci64/CAT_BlurSurfHK
M       CAT.maci64/CAT_DumpCurv
M       CAT.maci64/CAT_DumpGI
M       CAT.maci64/CAT_FixTopology
M       CAT.maci64/CAT_FractalDimension
M       CAT.maci64/CAT_Isometize
M       CAT.maci64/CAT_LBConformalMap
M       CAT.maci64/CAT_ResampleSphericalSurf
M       CAT.maci64/CAT_ResampleSurf
M       CAT.maci64/CAT_Surf2Sphere
M       CAT.maci64/CAT_WarpSurf

New version of CAT_Surf2Sphere that can now deal with reducepatched
data.

------------------------------------------------------------------------
r537 | gaser | 2013-12-09 20:07:39 +0100 (Mo, 09 Dez 2013) | 52 lines

Changed paths:
M       CAT.glnx86/CAT_3dVol2Surf
M       CAT.glnx86/CAT_AddValuesToSurf
M       CAT.glnx86/CAT_BlurSurfHK
M       CAT.glnx86/CAT_DeformSurf
M       CAT.glnx86/CAT_DumpCurv
M       CAT.glnx86/CAT_DumpGI
M       CAT.glnx86/CAT_FixTopology
M       CAT.glnx86/CAT_FractalDimension
M       CAT.glnx86/CAT_Isometize
M       CAT.glnx86/CAT_LBConformalMap
M       CAT.glnx86/CAT_ResampleSphericalSurf
M       CAT.glnx86/CAT_ResampleSurf
M       CAT.glnx86/CAT_SeparatePolygon
M       CAT.glnx86/CAT_Surf2Sphere
M       CAT.glnx86/CAT_WarpSurf
RM      CAT.maci64/CAT_3dVol2Surf
RM      CAT.maci64/CAT_AddValuesToSurf
RM      CAT.maci64/CAT_BlurSurfHK
RM      CAT.maci64/CAT_DeformSurf
RM      CAT.maci64/CAT_DumpCurv
RM      CAT.maci64/CAT_DumpGI
RM      CAT.maci64/CAT_FixTopology
RM      CAT.maci64/CAT_FractalDimension
RM      CAT.maci64/CAT_Isometize
RM      CAT.maci64/CAT_LBConformalMap
RM      CAT.maci64/CAT_ResampleSphericalSurf
RM      CAT.maci64/CAT_ResampleSurf
RM      CAT.maci64/CAT_SeparatePolygon
RM      CAT.maci64/CAT_Surf2Sphere
RM      CAT.maci64/CAT_WarpSurf
M       CAT.win32/CAT_3dVol2Surf.exe
M       CAT.win32/CAT_AddValuesToSurf.exe
M       CAT.win32/CAT_BlurSurfHK.exe
M       CAT.win32/CAT_DeformSurf.exe
M       CAT.win32/CAT_DumpCurv.exe
M       CAT.win32/CAT_DumpGI.exe
M       CAT.win32/CAT_FixTopology.exe
M       CAT.win32/CAT_FractalDimension.exe
M       CAT.win32/CAT_Isometize.exe
M       CAT.win32/CAT_LBConformalMap.exe
M       CAT.win32/CAT_ResampleSphericalSurf.exe
M       CAT.win32/CAT_ResampleSurf.exe
M       CAT.win32/CAT_SeparatePolygon.exe
M       CAT.win32/CAT_Surf2Sphere.exe
M       CAT.win32/CAT_WarpSurf.exe
M       CHANGES.txt
M       vbm_surf_createCS.m

(1) Added new binaries for all platforms.
(2) Corrected wrong path for linux binaries in vbm_surf_createCS.m.

------------------------------------------------------------------------
r538 | gaser | 2013-12-10 09:26:52 +0100 (Di, 10 Dez 2013) | 55 lines

Changed paths:
D       CAT.glnx86
D       CAT.glnx86/CAT_3dVol2Surf
D       CAT.glnx86/CAT_AddValuesToSurf
D       CAT.glnx86/CAT_BlurSurfHK
D       CAT.glnx86/CAT_DeformSurf
D       CAT.glnx86/CAT_DumpCurv
D       CAT.glnx86/CAT_DumpGI
D       CAT.glnx86/CAT_FixTopology
D       CAT.glnx86/CAT_FractalDimension
D       CAT.glnx86/CAT_Isometize
D       CAT.glnx86/CAT_LBConformalMap
D       CAT.glnx86/CAT_ResampleSphericalSurf
D       CAT.glnx86/CAT_ResampleSurf
D       CAT.glnx86/CAT_SeparatePolygon
D       CAT.glnx86/CAT_Surf2Sphere
D       CAT.glnx86/CAT_WarpSurf
D       CAT.maci64
D       CAT.maci64/CAT_3dVol2Surf
D       CAT.maci64/CAT_AddValuesToSurf
D       CAT.maci64/CAT_BlurSurfHK
D       CAT.maci64/CAT_DeformSurf
D       CAT.maci64/CAT_DumpCurv
D       CAT.maci64/CAT_DumpGI
D       CAT.maci64/CAT_FixTopology
D       CAT.maci64/CAT_FractalDimension
D       CAT.maci64/CAT_Isometize
D       CAT.maci64/CAT_LBConformalMap
D       CAT.maci64/CAT_ResampleSphericalSurf
D       CAT.maci64/CAT_ResampleSurf
D       CAT.maci64/CAT_SeparatePolygon
D       CAT.maci64/CAT_Surf2Sphere
D       CAT.maci64/CAT_WarpSurf
D       CAT.win32
D       CAT.win32/CAT_3dVol2Surf.exe
D       CAT.win32/CAT_AddValuesToSurf.exe
D       CAT.win32/CAT_BlurSurfHK.exe
D       CAT.win32/CAT_DeformSurf.exe
D       CAT.win32/CAT_DumpCurv.exe
D       CAT.win32/CAT_DumpGI.exe
D       CAT.win32/CAT_FixTopology.exe
D       CAT.win32/CAT_FractalDimension.exe
D       CAT.win32/CAT_Isometize.exe
D       CAT.win32/CAT_LBConformalMap.exe
D       CAT.win32/CAT_ResampleSphericalSurf.exe
D       CAT.win32/CAT_ResampleSurf.exe
D       CAT.win32/CAT_SeparatePolygon.exe
D       CAT.win32/CAT_Surf2Sphere.exe
D       CAT.win32/CAT_WarpSurf.exe
M       cg_vbm_update.m
M       vbm12.man

(1) Corrected wrong url in update function.
(2) Removed CAT binaries because of the annoying issues.

------------------------------------------------------------------------
r539 | gaser | 2013-12-10 09:28:06 +0100 (Di, 10 Dez 2013) | 5 lines

Changed paths:

(1) Corrected wrong url in update function.
(2) Removed CAT binaries because of the annoying issues.

------------------------------------------------------------------------
r540 | gaser | 2013-12-10 16:41:44 +0100 (Di, 10 Dez 2013) | 10 lines

Changed paths:
M       cg_vbm_tools.m
M       cg_vbm_update.m
M       sanlm_float.c
M       spm_vbm12.m
A       vbm_surf_parameters.m
A       vbm_surf_resamp.m

Added surface functions for parameter extraction and resampling.

------------------------------------------------------------------------
r541 | gaser | 2013-12-11 14:31:30 +0100 (Mi, 11 Dez 2013) | 12 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_batch.sh
A       distribute_to_server.sh
M       vbm12.man

(1) Made some small changes to batch mode.
(2) Added new script distribute_to_server.sh that allows to distribute jobs
    to other server machines. Furthermore all files in a folder can be processed
    by excluding those file wehre a prepending pattern can be found 
    (e.g. m0wrp1),

------------------------------------------------------------------------
r542 | gaser | 2013-12-11 14:49:40 +0100 (Mi, 11 Dez 2013) | 8 lines

Changed paths:
M       Makefile.vbm
M       distribute_to_server.sh
MM      vbm_surf_parameters.m
MM      vbm_surf_resamp.m

Some small changes in distribute_to_server.sh.

------------------------------------------------------------------------
r543 | gaser | 2013-12-11 15:51:05 +0100 (Mi, 11 Dez 2013) | 7 lines

Changed paths:
MM      distribute_to_server.sh
M       vbm_surf_createCS.m
M       vbm_surf_resamp.m

Topology artefacts/defets are now marked in a gifti file.

------------------------------------------------------------------------
r544 | gaser | 2013-12-11 16:15:09 +0100 (Mi, 11 Dez 2013) | 7 lines

Changed paths:
M       cg_vbm_tools.m
M       vbm_surf_parameters.m
M       vbm_surf_resamp.m

Corrected some small bugs in resampling code.

------------------------------------------------------------------------
r545 | gaser | 2013-12-11 17:26:30 +0100 (Mi, 11 Dez 2013) | 11 lines

Changed paths:
M       cg_vbm_run.m
M       spm_vbm12.m
A       vbm_spm.m

(1) Added vbm_spm for factorial design. This is a modified version
    of spm_spm.m where the underlaying surface is replaced with fsaverage
    and the smoothness estimation is modified.
(2) spm_vbm12 is now extended by factorial design function adn estimation.
(3) Remove sanlm-filtered image after cg_vbm_write.m

------------------------------------------------------------------------
r546 | gaser | 2013-12-12 10:43:04 +0100 (Do, 12 Dez 2013) | 34 lines

Changed paths:
M       AmapMex.mexmaci64
M       Makefile.vbm
A       cg_boxplot.m
M       cg_check_cov.m
A       cg_check_mesh_cov.m
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_tools.m
M       compile.m
M       sanlmMex.mexmaci64
M       sanlmMex_noopenmp.mexmaci64
M       spm_vbm12.m
M       vbdist.mexmaci64
M       vbm12.man
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eikonal3.mexmaci64
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_simgrow.mexmaci64

(1) Removed multi-thread support for sanlmMex because results differ and it's
    not working for OSX < 10.6.
(2) Compiled mex-files for OSX < 10.6.
(3) Added cg_check_mesh_cov.m to check surface covariance.
(4) Added cg_boxplot (extracted from cg_check_cov.m).

------------------------------------------------------------------------
r547 | gaser | 2013-12-12 11:36:52 +0100 (Do, 12 Dez 2013) | 6 lines

Changed paths:
M       cg_check_mesh_cov.m
MM      vbm_spm.m

Some rather cosmetic changes to cg_check_mesh_render.m

------------------------------------------------------------------------
r548 | dahnke | 2013-12-12 12:22:20 +0100 (Do, 12 Dez 2013) | 37 lines

Changed paths:
 M      .
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_write.m
D       dp.m
A       vbm_io_cmd.m
M       vbm_io_cprintf.m
M       vbm_stat_nanmean.m
M       vbm_stat_nanstd.m
M       vbm_surf_createCS.m
M       vbm_tst_pre.m
D       vbm_vol_GBM.m
A       vbm_vol_ROIval.c
M       vbm_vol_iscale.m
M       vbm_vol_morph.m
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m

(1)  Updated error handling: 
      (a) If surface estimation failed on c-functions (segmenation error) VBM 
          will not crash and only print an error message and go on with further 
          VBM preprocessing.
      (b) Further error handling for VBM errors (delete temporary files that are
          not used for error diagnosis).
(2)  Made vbm_io_cmd to a separate function. 
(3)  WM hyperintensity correction (extopts.WMHC) is ready for alpha tests. 
     Estimation of WMHs based on the GM next to the ventricle that do not belong 
     to the basal ganglia. Therefore, errors are often related to errors of the 
     partitioning of these regions. 
(4)  Major update of vbm_vol_partvol with simpler structure, higher speed and 
     more comments.
(5)  Corrected error in vbm_vol_morph. 
(6)  Restored full function of "finalmasking" and "cleanup" also for LAS.
     Removed old skull-stripping (vbm_vol_GBM).
(7)  Corrected error for global intensity Normalization for BG=CSF case. 

------------------------------------------------------------------------
r549 | gaser | 2013-12-12 14:25:54 +0100 (Do, 12 Dez 2013) | 16 lines

Changed paths:
D       AmapMex.mexmaci
M       Makefile.vbm
 M      cg_boxplot.m
MM      cg_check_mesh_cov.m
D       sanlmMex.mexmaci
D       sanlmMex_noopenmp.mexmaci
D       spm_def2det.mexmaci
D       vbdist.mexmaci
M       vbm12.man
M       vbm_surf_createCS.m
M       vbm_surf_resamp.m

(1) Removed old *mexmaci files (that were not complete at all).
(2) Some cosmetic changes to vbm_surf_createCS.m and vbm_surf_resample.m

------------------------------------------------------------------------
r550 | gaser | 2013-12-12 14:30:58 +0100 (Do, 12 Dez 2013) | 9 lines

Changed paths:
A       fsaverage/lh.smoothwm.gii
A       fsaverage/rh.smoothwm.gii
A       sanlmMex_noopenmp.mexw32
A       sanlmMex_noopenmp.mexw64

(1) Added gifti files for fsaverage surfaces.
(2) Added missing sanlmMex_noopenmp.mexw* files for windows.

------------------------------------------------------------------------
r551 | gaser | 2013-12-12 17:41:13 +0100 (Do, 12 Dez 2013) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_surf_resamp.m

Calculation of parameter Ycls was done for each slice leading to long
computation time in cg_vbm_write.m.

------------------------------------------------------------------------
r552 | gaser | 2013-12-18 17:24:50 +0100 (Mi, 18 Dez 2013) | 17 lines

Changed paths:
A       fsaverage/lh.central
A       fsaverage/lh.central.gii
D       fsaverage/lh.smoothwm
D       fsaverage/lh.smoothwm.gii
A       fsaverage/rh.central
A       fsaverage/rh.central.gii
D       fsaverage/rh.smoothwm
D       fsaverage/rh.smoothwm.gii
 M      sanlmMex_noopenmp.mexw32
 M      sanlmMex_noopenmp.mexw64
M       spm_vbm12.m
M       vbm_spm.m
M       vbm_surf_createCS.m

Changed template from smoothwm to central surface and changed code resp.

------------------------------------------------------------------------
r553 | dahnke | 2013-12-21 19:50:22 +0100 (Sa, 21 Dez 2013) | 27 lines

Changed paths:
 M      .
M       CHANGES.txt
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
 M      fsaverage/lh.central
 M      fsaverage/lh.central.gii
 M      fsaverage/rh.central
 M      fsaverage/rh.central.gii
M       sanlmMex.mexmaci64
M       vbm_io_cmd.m
M       vbm_io_cprintf.m
M       vbm_surf_createCS.m
M       vbm_tst_pre.m
M       vbm_vol_ROIval.c
A       vbm_vol_ROIval.mexmaci64
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m

(1)  Updated cmd line plot (vbm_vol_cmd) for detailed output (vbm.extopts.verb)
     of the partitioning (vbm_vol_partvol), the skull-stripping (vbm_vol_gcut2
     in cg_write_vol), and the ROI estimation.
(2)  Updated partition and skull-stripping functions. Removed errors and inc. 
     calculation speed. Add resolution variable (vbm.extopts.vx_res), where 
     images with higher resolutions are reduce to the half resolution.     

------------------------------------------------------------------------
r554 | dahnke | 2014-01-08 17:27:53 +0100 (Mi, 08 Jan 2014) | 11 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_stat_nanmean.m
M       vbm_stat_nanstd.m
M       vbm_surf_createCS.m
M       vbm_tst_pre.m
 M      vbm_vol_ROIval.mexmaci64
RM      vbm_vol_eidist.mexmaci64

Corrected minor errors.

------------------------------------------------------------------------
r555 | gaser | 2014-01-10 12:43:11 +0100 (Fr, 10 Jan 2014) | 10 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       spm_vbm12.m
M       vbm12.man

(1) Removed saving of temporary file in cg_vbm_write.m.
(2) Don't write label as default.
(3) Removed option for longitudinal data, because this is not yet prepared.

------------------------------------------------------------------------
r556 | dahnke | 2014-01-23 09:36:10 +0100 (Do, 23 Jan 2014) | 22 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       ds.m
M       tbx_cfg_vbm.m
M       vbm_io_writenii.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
M       vbm_vol_ROIval.c
M       vbm_vol_downcut.c
M       vbm_vol_eidist.c
MM      vbm_vol_eidist.mexmaci64
M       vbm_vol_iscale.m
M       vbm_vol_localstat.c
M       vbm_vol_partvol.m

(1)   Corrected intensity scaling problem for images with non-zero background 
      (BWP MS case).
(2)   Corrected eidist.c error.



------------------------------------------------------------------------
r557 | gaser | 2014-01-27 11:12:51 +0100 (Mo, 27 Jan 2014) | 107 lines

Changed paths:
M       AmapMex.mexa64
M       AmapMex.mexglx
M       AmapMex.mexmaci64
M       AmapMex.mexw32
M       AmapMex.mexw64
M       Kmeans.c
M       Makefile.vbm
M       cg_check_cov.m
D       cg_check_mesh_cov.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       compile.m
A       fsaverage/fsavg.index2D_256x128.txt
A       genus0.c
A       genus0.h
M       sanlmMex.mexglx
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexmaci64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       spm_vbm12.m
M       vbdist.c
M       vbdist.mexa64
M       vbdist.mexglx
M       vbdist.mexmaci64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm12.man
M       vbm_surf_createCS.m
M       vbm_vol_downcut.c
M       vbm_vol_downcut.mexa64
M       vbm_vol_downcut.mexglx
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.c
M       vbm_vol_eidist.mexa64
M       vbm_vol_eidist.mexglx
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_eikonal3.c
M       vbm_vol_eikonal3.mexa64
M       vbm_vol_eikonal3.mexglx
M       vbm_vol_eikonal3.mexmaci64
M       vbm_vol_eikonal3.mexw32
M       vbm_vol_eikonal3.mexw64
A       vbm_vol_genus0.c
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexa64
M       vbm_vol_localstat.mexglx
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.c
M       vbm_vol_median3.mexa64
M       vbm_vol_median3.mexglx
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.c
M       vbm_vol_median3c.mexa64
M       vbm_vol_median3c.mexglx
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.cpp
M       vbm_vol_pbtp.mexa64
M       vbm_vol_pbtp.mexglx
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexa64
M       vbm_vol_simgrow.mexglx
M       vbm_vol_simgrow.mexmaci64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Corrected typos in vbm_vol_downcut.c, Kmeans.c, genus0.c.
(2) Added vbm_vol_genus0.c and genus0.*
(3) Replaced isosurface in vbm_surf_createCS.m by vbm_vol_genus0.
(4) Added missing extension ee in vbm_surf_createCS.m.
(5) Changed compile.m and Makefile.vbm to consider new files.
(6) Recompiled mexfiles for all systems.
(8) Updated cg_check_cov.m that can now deal with volume and surface data. 
(9) Deleted cg_check_mesh_cov.m that is replaced by cg_check_cov.m.
(10) Updated cg_vbm_tools.m and spm_vbm12.m for new cg_check_cov.m.
(11) Added fsaverage/fsavg.index2D_256x128.txt (index for 2D map).
(12) Redefined FNAN and FINFINITY in vol_vol_edist.c to work with MSC.



------------------------------------------------------------------------
r558 | gaser | 2014-01-27 11:14:05 +0100 (Mo, 27 Jan 2014) | 9 lines

Changed paths:
A       vbm_vol_genus0.mexa64
A       vbm_vol_genus0.mexglx
A       vbm_vol_genus0.mexmaci64
A       vbm_vol_genus0.mexw32
A       vbm_vol_genus0.mexw64

Added missing vbm_vol_genus0.mex* files.

------------------------------------------------------------------------
r559 | gaser | 2014-01-27 11:14:36 +0100 (Mo, 27 Jan 2014) | 9 lines

Changed paths:
 M      fsaverage/fsavg.index2D_256x128.txt
 M      genus0.c
 M      genus0.h
M       vbm12.man
MM      vbm_vol_genus0.c

Added missing vbm_vol_genus0.mex* files.

------------------------------------------------------------------------
r560 | gaser | 2014-01-27 11:14:49 +0100 (Mo, 27 Jan 2014) | 9 lines

Changed paths:
 M      vbm_vol_genus0.mexa64
 M      vbm_vol_genus0.mexglx
 M      vbm_vol_genus0.mexmaci64
 M      vbm_vol_genus0.mexw32
 M      vbm_vol_genus0.mexw64

Added missing vbm_vol_genus0.mex* files.

------------------------------------------------------------------------
r561 | gaser | 2014-01-27 11:16:21 +0100 (Mo, 27 Jan 2014) | 6 lines

Changed paths:
A       tricases.h
M       vbm12.man

Added missing tricases.h.

------------------------------------------------------------------------
r562 | gaser | 2014-01-27 11:18:54 +0100 (Mo, 27 Jan 2014) | 4 lines

Changed paths:

Removed CAT.maci64 because of difficulties to use subversion for binaries.

------------------------------------------------------------------------
r563 | gaser | 2014-01-27 11:22:36 +0100 (Mo, 27 Jan 2014) | 6 lines

Changed paths:
 M      tricases.h
M       vbm12.man

Removed CAT.maci64 because of difficulties to use subversion for binaries.

------------------------------------------------------------------------
r564 | gaser | 2014-01-27 11:25:19 +0100 (Mo, 27 Jan 2014) | 6 lines

Changed paths:
M       Makefile.vbm
M       vbm12.man

Removed cg_check_mesh_cov from Makefile.vbm.

------------------------------------------------------------------------
r565 | gaser | 2014-01-27 12:44:05 +0100 (Mo, 27 Jan 2014) | 6 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_tools.m

Some changes in cg_vbm_tools.m and cg_vbm_batch.m to use batch mode.

------------------------------------------------------------------------
r566 | gaser | 2014-01-27 12:48:22 +0100 (Mo, 27 Jan 2014) | 5 lines

Changed paths:
M       vbm_vol_eidist.mexmaci64

Removed debugging output in vbm_vol_eidist.c

------------------------------------------------------------------------
r567 | gaser | 2014-01-27 16:24:56 +0100 (Mo, 27 Jan 2014) | 7 lines

Changed paths:
M       cg_check_cov.m
M       cg_vbm_defaults.m
M       vbm12.man

Some minor changes to cg_check_cov.m.

------------------------------------------------------------------------
r568 | dahnke | 2014-02-06 18:40:18 +0100 (Do, 06 Feb 2014) | 24 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       distribute_to_server.sh
A       templates_1.50mm/vbm12.nii
M       vbm_surf_createCS.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
M       vbm_tst_qa_groups.m
M       vbm_tst_qa_groups_test.m
M       vbm_tst_t1qa.m
M       vbm_vol_atlas.m
M       vbm_vol_eidist.c
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_laplace3R.c
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m

(1)  Corrected vbm_vol_eidist distance estimation. 
(2)  Updated vbm_vol_pbt thickness estimation.
(3)  Added vbm12.nii region atlas that based on Hammers and replace the l1A atlas. 
(4)  Updated ventricle and WMH partitioning by Laplace approach.
(5)  Update CSF global threshold estimation for high GM/WM-contrast images.  

------------------------------------------------------------------------
r569 | gaser | 2014-02-07 10:45:58 +0100 (Fr, 07 Feb 2014) | 48 lines

Changed paths:
M       AmapMex.mexw32
M       AmapMex.mexw64
M       cg_check_cov.m
M       distribute_to_server.sh
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm12.man
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.c
M       vbm_vol_eidist.mexa64
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_eikonal3.mexw32
M       vbm_vol_eikonal3.mexw64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Changed default definition of SUER in distribute_to_server.sh that worked
    not properly.
(2) Some slight changes in cg_check_cov.m.
(3) Changed vbm_vol_eidist.c according to standard gcc.
(4) Recompiled mexfiles.

------------------------------------------------------------------------
r570 | gaser | 2014-02-07 11:01:45 +0100 (Fr, 07 Feb 2014) | 6 lines

Changed paths:
M       cg_vbm_batch.m
 M      templates_1.50mm/vbm12.nii

Corrected wrong handling of WMH in cg_vbm_batch.m.

------------------------------------------------------------------------
r571 | gaser | 2014-02-10 10:52:24 +0100 (Mo, 10 Feb 2014) | 6 lines

Changed paths:
M       tbx_cfg_vbm.m
M       vbm12.man

removed too li,iting ufilter in tbx_cfg_vbm.m.

------------------------------------------------------------------------
r572 | gaser | 2014-02-10 11:09:48 +0100 (Mo, 10 Feb 2014) | 11 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man
M       vbm_vol_atlas.m
M       vbm_vol_morph.m
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m
M       vbm_vol_t1qacalc.m

Matlab R2007a does not accept terms such as [~,m] = function.

------------------------------------------------------------------------
r573 | gaser | 2014-02-10 17:59:39 +0100 (Mo, 10 Feb 2014) | 7 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_write.m

(1) Matlab R2007a does not accept catch err in cg_vbm_write.m
(2) Changed hamdling of rmfield in cg_vbm_batch.m

------------------------------------------------------------------------
r574 | dahnke | 2014-02-11 14:40:18 +0100 (Di, 11 Feb 2014) | 13 lines

Changed paths:
M       cg_vbm_write.m
M       ds.m
M       templates_1.50mm/vbm12.nii
M       vbm_io_cprintf.m
M       vbm_vol_atlas.m
M       vbm_vol_partvol.m
M       vbm_vol_sanlm.m
M       vbm_vol_t1qacalc.m

(1)  Corrected small errors.
(2)  Corrected vbm12.nii atlas (side error).

------------------------------------------------------------------------
r575 | gaser | 2014-03-03 12:56:38 +0100 (Mo, 03 Mär 2014) | 6 lines

Changed paths:
M       cg_vbm_defs.m

(1) Removed dependence on HDW toolbox in cg_vbm_defs.m
(2) Corrected wrong CAT.win32 folder to CAT.w32.

------------------------------------------------------------------------
r576 | gaser | 2014-03-03 15:24:39 +0100 (Mo, 03 Mär 2014) | 6 lines

Changed paths:
M       distribute_to_server.sh
M       vbm12.man

Some small changes to dsitribute_to_server.sh.

------------------------------------------------------------------------
r577 | dahnke | 2014-03-06 11:14:10 +0100 (Do, 06 Mär 2014) | 38 lines

Changed paths:
M       cg_set_com.m
M       cg_vbm_batch.sh
M       cg_vbm_write.m
M       distribute_to_server.sh
M       templates_1.50mm/vbm12.nii
A       vbm_io_3Dto4D.m
M       vbm_io_colormaps.m
M       vbm_io_cprintf.m
M       vbm_io_remat.m
M       vbm_plot_boxplot.m
A       vbm_qa_calcSTC.m
M       vbm_stat_marks.m
M       vbm_surf_createCS.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
M       vbm_tst_t1qa.m
M       vbm_vol_atlas.m
M       vbm_vol_average.m
A       vbm_vol_ctype.m
M       vbm_vol_iscale.m
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_partvol.m

(1)  Force a stronger separation of new preprocessing routings from the well 
     known stable routines by the "vbm.extopts.LAS" parameter, with 0 for the 
     conservative pipeline (VBM12), and 1 for the version with new segmentation
     routines like B3C, LAS, WMHC, BVC, etc (VBM12i).
(2)  Corrected an error in vbm_vol_localstat, but this function still requires
     a major update for nan, inf, and zero behavior!
(3)  Updates for distributed processing of other MATLAB/SPM/VBM function in 
     "cg_vbm_batch.sh" (and "distribute_to_server.sh"). 
(4)  Updated QA routines.
(5)  Set cut regions as NaN for cortical thickness map! 
     This may lead to smoothing problems!


------------------------------------------------------------------------
r578 | gaser | 2014-03-06 13:00:17 +0100 (Do, 06 Mär 2014) | 10 lines

Changed paths:
M       cg_set_com.m
M       vbm_vol_localstat.mexa64
M       vbm_vol_localstat.mexglx
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64

(1) Changed reference origin in cg_set_com.m for z-axis.
(2) Recompiled vbm_vol_localstat.c for all systems.

------------------------------------------------------------------------
r579 | gaser | 2014-03-10 09:45:41 +0100 (Mo, 10 Mär 2014) | 6 lines

Changed paths:
M       vbm12.man
M       vbm_vol_ctype.m

vbm_vol_ctype.m can now work with datatypes such uint8-le.

------------------------------------------------------------------------
r580 | gaser | 2014-03-10 11:41:03 +0100 (Mo, 10 Mär 2014) | 7 lines

Changed paths:
M       cg_vbm_defaults.m
M       vbm_surf_createCS.m

(1) Deselected lesion mapping as default.
(2) Commented out set of NaN for CC and other areas in thickness maps.

------------------------------------------------------------------------
r581 | gaser | 2014-03-10 14:22:41 +0100 (Mo, 10 Mär 2014) | 6 lines

Changed paths:
M       vbm_surf_resamp.m

Surfaces are now resampled using sphere, while values will be still resampled
using sphere.reg.

------------------------------------------------------------------------
r582 | gaser | 2014-03-11 16:42:00 +0100 (Di, 11 Mär 2014) | 22 lines

Changed paths:
M       AmapMex.mexw32
M       sanlmMex.mexw32
M       sanlmMex_noopenmp.mexw32
M       vbdist.mexw32
M       vbm_vol_ctype.m
M       vbm_vol_downcut.mexw32
M       vbm_vol_eidist.mexw32
M       vbm_vol_eikonal3.mexw32
M       vbm_vol_genus0.mexw32
M       vbm_vol_gradient3.mexw32
M       vbm_vol_interp3f.mexw32
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_localstat.mexw32
M       vbm_vol_median3.mexw32
M       vbm_vol_median3c.mexw32
M       vbm_vol_pbtp.mexw32
M       vbm_vol_simgrow.mexw32

Changed order of inputs for strfind in vbm_vol_ctype.m.

------------------------------------------------------------------------
r583 | gaser | 2014-03-12 08:46:26 +0100 (Mi, 12 Mär 2014) | 24 lines

Changed paths:
M       AmapMex.mexw64
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexw64
M       vbdist.mexw64
M       vbm12.man
M       vbm_surf_createCS.m
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexw64
M       vbm_vol_eikonal3.mexw64
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexw64

(1) Recompiled for Windows 64 bit.
(2) Error and catch handling in vbm_surf_create.m changed.

------------------------------------------------------------------------
r584 | gaser | 2014-03-12 17:59:22 +0100 (Mi, 12 Mär 2014) | 5 lines

Changed paths:
M       vbm_surf_resamp.m

Corrected error in vbm_surf_resamp.m

------------------------------------------------------------------------
r585 | gaser | 2014-03-14 10:25:51 +0100 (Fr, 14 Mär 2014) | 7 lines

Changed paths:
M       cg_check_cov.m
M       spm_vbm12.m

(1) cg_check_cov now allows same scaling for all texture maps.
(2) Display surfaces can now display multiple surfaces.

------------------------------------------------------------------------
r586 | gaser | 2014-03-18 17:29:41 +0100 (Di, 18 Mär 2014) | 6 lines

Changed paths:
M       cg_check_cov.m

Some corrections and new functionality in cg_check_cov.m


------------------------------------------------------------------------
r587 | gaser | 2014-03-21 10:12:52 +0100 (Fr, 21 Mär 2014) | 10 lines

Changed paths:
M       spm_vbm12.m
M       vbm_spm.m
M       vbm_vol_partvol.m

(1) vbm_vol_parts: flipping of sites to correct for wrong hemis (quick & 
    dirty solution suggested by Robert).
(2) Vertices and faces are removed in vbm_spm.m to get rid of the huge 
    SPM.mat files.

------------------------------------------------------------------------
r588 | gaser | 2014-06-18 11:33:45 +0200 (Mi, 18 Jun 2014) | 61 lines

Changed paths:
M       AmapMex.mexmaci64
M       AmapMex.mexw32
M       AmapMex.mexw64
M       cg_check_cov.m
M       compile.m
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexmaci64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
!       templates_1.50mm/hammers.nii
M       vbdist.mexmaci64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_eikonal3.mexmaci64
M       vbm_vol_eikonal3.mexw32
M       vbm_vol_eikonal3.mexw64
M       vbm_vol_genus0.c
M       vbm_vol_genus0.mexmaci64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexmaci64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Added additional flag to vbm_vol_genus0.c in order to allow simple
    surface extraction without volume-based topology correction.
(2) Recompiled windows and mac mex-files.

------------------------------------------------------------------------
r589 | dahnke | 2014-06-23 10:00:35 +0200 (Mo, 23 Jun 2014) | 42 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       checkinopt.m
M       spm_vbm12.m
M       vbm_io_colormaps.m
M       vbm_io_cprintf.m
A       vbm_io_struct2table.m
M       vbm_io_updateStruct.m
M       vbm_io_writenii.m
M       vbm_io_xml.m
A       vbm_io_xml2csv.m
M       vbm_plot_boxplot.m
M       vbm_qa_calcSTC.m
M       vbm_stat_marks.m
A       vbm_stat_nansum.m
A       vbm_tst_CJV.m
M       vbm_tst_SRS.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
A       vbm_tst_qa.m
M       vbm_tst_qa_groups.m
M       vbm_tst_qa_groups_test.m
D       vbm_tst_t1qa.m
M       vbm_vol_average.m
M       vbm_vol_gradient3.c
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_morph.m
M       vbm_vol_partvol.m
D       vbm_vol_t1qacalc.m

(1)  Enhancement of opt-input structure of 'vbm_plot_boxplot', with coloring, 
     different scalings, and outlier output. Requires further test! 
(2)  Added PID output for Matlab calls of 'cg_vbm_batch.sh'. 
(3)  Enhancement of 'vbm_tst_t1qa' with GUI and command line control in one file.
(4)  Corrected side error of warped images. 
(5)  Update of 'vbm_io_structUpdate'. 


------------------------------------------------------------------------
r590 | gaser | 2014-07-24 12:37:56 +0200 (Do, 24 Jul 2014) | 13 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_tools.m
M       spm_vbm12.m
M       vbm12.man
A       vbm_check_system_output.m
M       vbm_surf_createCS.m
M       vbm_surf_resamp.m

(1) Added function to resample and smooth existing freesurfer data.
(2) Added vbm_check_system_output.m that was used internally in several
    function that use system calls.

------------------------------------------------------------------------
r591 | dahnke | 2014-08-02 08:53:56 +0200 (Sa, 02 Aug 2014) | 103 lines

Changed paths:
 M      .
M       AmapMex.mexmaci64
M       cg_vbm_batch.m
M       cg_vbm_batch.sh
M       cg_vbm_defaults.m
M       cg_vbm_run.m
A       cg_vbm_run_job.m
A       cg_vbm_run_newcatch.m
A       cg_vbm_run_oldcatch.m
M       cg_vbm_write.m
M       compile.m
M       distribute_to_server.sh
A       ornlmMex.c
A       ornlmMex.m
A       ornlmMex.mexa64
A       ornlmMex.mexglx
A       ornlmMex.mexmaci
A       ornlmMex.mexmaci64
A       ornlmMex.mexw32
A       ornlmMex.mexw64
M       sanlmMex.mexmaci64
M       sanlmMex_noopenmp.mexmaci64
M       tbx_cfg_vbm.m
M       vbdist.mexmaci64
M       vbm_io_FreeSurfer.m
M       vbm_io_cmd.m
M       vbm_io_cprintf.m
M       vbm_stat_marks.m
M       vbm_stat_nanmean.m
M       vbm_stat_nanmedian.m
M       vbm_stat_nanstd.m
M       vbm_stat_nansum.m
M       vbm_surf_createCS.m
M       vbm_tst_SRS.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
M       vbm_tst_qa.m
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eikonal3.c
M       vbm_vol_eikonal3.mexmaci64
M       vbm_vol_genus0.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_morph.m
M       vbm_vol_partvol.m
M       vbm_vol_pbt.m
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_resize.m
M       vbm_vol_simgrow.mexmaci64

This update contain a lot of changes, corrections and updates for large parts of
the segmentation pipeline.
(1)  Added symbolic link support for "distribute_to_server.sh".
(2)  Optimized skull-stripping and removed "gcutcsf" parameter.
     Verified behavior of 'gcutstr' in range between 0 and 1.   
(3)  Merged B3C inhomogeneity correction and the Local Adaptive Segmentation 
     (LAS) with direct access to atlas data. 
     Removed 'Final LAS corrections' and 'Final Masking' function and options.
     Verified behavior of 'LASstr' in range between 0 and 1.   
(4)  Extended "BVC" to "BVCstr" parameter for further control of the blood 
     vessel correction, with 0 for no correction.
     Verified behavior of 'BVCstr' in range between 0 and 1.   
(5)  Updated and tested inverse pipeline 'extopts.INV' that is now part of the 
     global intensity normalization function, including a small bias WM based 
     inhomogeneity correction to avoid inversion problems.   
     Verified behavior for T2 and PD datasets, with good results for good data. 
(6)  Added new improved cleanup routine ('extopts.cleanup==3'). 
(7)  Added VBM warnings to 'vbm12*.mat' (QA.SW.vbm_warnings) and display them 
     in the final report (not tested yet).  
(8)  Added old ORNLM filter for noise removal after intensity scaling. The 
     strength of the filter is controlled by a CJV like measure to assure 
     smooth tissues. Using the NLM filter should work better than only a 
     stronger MRF filter! Filter strength is limited by a sixth of tissue 
     contrast. 
     
Unsolved problems, warnings, and errors:
(1)  Unsolved errors for "extopts.kmeans=1" with AMAP segmentation errors.
(2)  Unsolved errors for surface generation "Cat_SeparatePolygon" or "reducepatch" under Windows with incorrect  
     values of the vertices of the the surface faces.
(3)  Images with low NCR/high CNR trend to have local WM overestimation. 
     The brainstem is a little bit to white and lead to WM overestimations in 
     the cerebellum (see also BWP_MS2_Collins_t1_pn9_rf100pA.nii).
     > Check LAS bias correction. 
(4)  To strong noise correction in high resolution images (ORNLM strength). 
(5)  PD/T2 pipeline:
     > The GM/CSF boundary/peak estimation in low contrast images (CSF~GM) 
       requires stronger connection of SPM-segmentation and intensity information 
       (see XNAT-flash3 subjects / BWP_HC_Collins_pd_pn[3|9]_rf[040|100]pA ).
     > Some images show background inversion problems and requires blood vessel 
       correction (NIH-T2 subjects).
     > Evaluation for IXI and NIH data in relation to T1 segmentation required

------------------------------------------------------------------------
r592 | dahnke | 2014-08-19 21:02:38 +0200 (Di, 19 Aug 2014) | 25 lines

Changed paths:
 M      .
M       cg_vbm_defaults.m
M       cg_vbm_run_newcatch.m
M       cg_vbm_write.m
D       templates_1.50mm/TPM.nii
M       templates_1.50mm/aal.nii
M       templates_1.50mm/anatomy.csv
M       templates_1.50mm/anatomy.nii
M       templates_1.50mm/anatomy.txt
D       templates_1.50mm/brodmann.nii
M       templates_1.50mm/hammers.nii
M       templates_1.50mm/ibsr.nii
M       templates_1.50mm/mori.nii
M       templates_1.50mm/vbm12.nii
MM      vbm_check_system_output.m
M       vbm_vol_atlas.m
M       vbm_vol_partvol.m

(1) Corrected atlas image properties.
(2) Updated "anatomy" atlas (version 2.0).
(3) Removed "brodmann" atlas map due to missing labels. 
(4) Removed "TPM.nii" from "template_1.50mm" directory.
(5) Updated "cg_vbm_default.m" parameters.

------------------------------------------------------------------------
r593 | dahnke | 2014-08-28 15:25:47 +0200 (Do, 28 Aug 2014) | 24 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       ds.m
 M      templates_1.50mm
A       templates_1.50mm/Template_0_IXI555_MNI152.nii
A       templates_1.50mm/Template_1_IXI555_MNI152.nii
A       templates_1.50mm/Template_2_IXI555_MNI152.nii
A       templates_1.50mm/Template_3_IXI555_MNI152.nii
A       templates_1.50mm/Template_4_IXI555_MNI152.nii
A       templates_1.50mm/Template_5_IXI555_MNI152.nii
A       templates_1.50mm/Template_6_IXI555_MNI152.nii
M       vbm_io_writenii.m
M       vbm_surf_createCS.m
M       vbm_tst_pre.m

(1) Corrected GM segmentation error in the global intensity scaling process of
    PD/T2 images with strong underestimation of the GM segment.
(2) Optimized cerebellum LAS detection.  
(3) Added "cleanupstr" variable. 
(4) Corrected image x-axis properties by wrong boundary box values. 
    Forced negative x-axis.
(5) Added "IXI555" template (x-axis properties update (4) is in process).

------------------------------------------------------------------------
r594 | gaser | 2014-08-29 11:04:22 +0200 (Fr, 29 Aug 2014) | 82 lines

Changed paths:
M       AmapMex.mexmaci64
M       AmapMex.mexw32
M       AmapMex.mexw64
M       Contents_info.txt
M       Makefile.vbm
M       cg_slice_overlay.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
M       compile.m
M       ornlmMex.c
M       ornlmMex.mexa64
M       ornlmMex.mexglx
M       ornlmMex.mexmaci64
M       ornlmMex.mexw32
M       ornlmMex.mexw64
A       ornlm_float.c
M       sanlmMex.mexglx
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexmaci64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       vbdist.mexmaci64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm12.man
M       vbm_vol_atlas.m
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexglx
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_eikonal3.mexmaci64
M       vbm_vol_eikonal3.mexw32
M       vbm_vol_eikonal3.mexw64
M       vbm_vol_genus0.mexa64
M       vbm_vol_genus0.mexglx
M       vbm_vol_genus0.mexmaci64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexa64
M       vbm_vol_gradient3.mexglx
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexa64
M       vbm_vol_localstat.mexglx
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexmaci64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Added new files to Makefile.vbm.
(2) Modified compile.m to consider different flags for different systems.
(3) Added ornlm files and adapted ornlmMex.c. Also changed to float format.
(4) Recompiled CAT and mexfiles.
(5) Corrected orientation of slices in cg_slice_overlay.m.

------------------------------------------------------------------------
r595 | dahnke | 2014-09-03 08:40:06 +0200 (Mi, 03 Sep 2014) | 40 lines

Changed paths:
 M      .
M       CHANGES.txt
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_write.m
MM      ornlm_float.c
M       tbx_cfg_vbm.m
 M      templates_1.50mm
D       templates_1.50mm/Template_0_IXI555_MNI152.nii
D       templates_1.50mm/Template_1_IXI550_MNI152.nii
M       templates_1.50mm/Template_1_IXI555_MNI152.nii
D       templates_1.50mm/Template_2_IXI550_MNI152.nii
M       templates_1.50mm/Template_2_IXI555_MNI152.nii
D       templates_1.50mm/Template_3_IXI550_MNI152.nii
M       templates_1.50mm/Template_3_IXI555_MNI152.nii
D       templates_1.50mm/Template_4_IXI550_MNI152.nii
M       templates_1.50mm/Template_4_IXI555_MNI152.nii
D       templates_1.50mm/Template_5_IXI550_MNI152.nii
M       templates_1.50mm/Template_5_IXI555_MNI152.nii
D       templates_1.50mm/Template_6_IXI550_MNI152.nii
M       templates_1.50mm/Template_6_IXI555_MNI152.nii
M       templates_1.50mm/anatomy.txt
M       templates_1.50mm/vbm12.nii
M       vbm_surf_createCS.m
M       vbm_tst_pre.m
M       vbm_vol_atlas.m
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_partvol.m

(1) Updated cleanup function, by adding a WM-CSF PVE correction next to the 
    ventricle, the CC and the brainstem.
(2) Added cleanupstr parameter to control strength of the cleanup function.
(3) Corrected error in "vbm_vol_localstat.c".
(4) Updated IXI555 template. 
(5) Removed surface defect marking for Windows systems.  
(6) Prepared GUI entries for some parameter.
(7) Corrected ventricle detection in "vbm_vol_partvol".

------------------------------------------------------------------------
r596 | gaser | 2014-09-09 12:37:44 +0200 (Di, 09 Sep 2014) | 9 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_write.m
M       vbm12.man
M       vbm_surf_createCS.m

(1) Use always .nii as extension in vbm_surf_createCS.m
(2) Parameter hho was only definedfor prinintg ps-file.

------------------------------------------------------------------------
r597 | gaser | 2014-09-10 13:29:00 +0200 (Mi, 10 Sep 2014) | 6 lines

Changed paths:
M       vbm_surf_createCS.m

Deselected use of CAT_DeformSurf due to non-solved issues.


------------------------------------------------------------------------
r598 | dahnke | 2014-09-10 17:01:16 +0200 (Mi, 10 Sep 2014) | 14 lines

Changed paths:
M       cg_vbm_write.m
M       distribute_to_server.sh
M       vbm_io_xml.m
M       vbm_stat_marks.m
M       vbm_tst_qa.m
M       vbm_vol_sanlm.m

(1)  Added some comments in "vbm_vol_sanlm" and "distribute_to_server.sh".
(2)  Corrected "vbm_io_xml" write error for empty structures.
(3)  Corrected small export/display errors. 
(4)  Updated "vbm_tst_qa" and "vbm_stat_marks" functions for "simpler" quality 
     measures that were restricted to uncorrected exor corrected images. 

------------------------------------------------------------------------
r599 | gaser | 2014-09-11 15:36:38 +0200 (Do, 11 Sep 2014) | 16 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_run_job.m
!       cg_vbm_run_newcatch.m
!       cg_vbm_run_oldcatch.m
M       cg_vbm_write.m
M       vbm12.man
M       vbm_surf_createCS.m

(1) Removed not needed flag opt.surface in vbm_surf_createCS.m
(2) Replaced windows check in vbm_surf_createCS.m by ispc.
(3) Replaced nanmean by vbm_stat_nanmean in cg_vbm_write.m.
(4) Deselection of multithreading for windows in cg_vbm_run_job.m was not
    correct and ignored ornlm filter.
(5) Forced gray colormap at the final end in cg_vbm_run.m.

------------------------------------------------------------------------
r600 | gaser | 2014-09-12 13:13:55 +0200 (Fr, 12 Sep 2014) | 18 lines

Changed paths:
D       cg_boxplot.m
M       cg_check_cov.m
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_run_job.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_tst_qa.m
M       vbm_vol_atlas.m

(1) Removed cg_boxplot.m and all calss to it because now vbm_plot_boxplot.m
    is used.
(2) Removed ngaus, samp and Dartel option as parameters from GUI.
(3) Removed modulation where it's not really necessary.


------------------------------------------------------------------------
r601 | gaser | 2014-09-15 08:24:54 +0200 (Mo, 15 Sep 2014) | 54 lines

Changed paths:
M       AmapMex.mexw32
M       AmapMex.mexw64
M       cg_vbm_batch.m
M       cg_vbm_batch.sh
M       compile.m
A       compile_test_debug.m
M       ornlmMex.mexw32
M       ornlmMex.mexw64
M       sanlmMex.mexa64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       tbx_cfg_vbm.m
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_eikonal3.mexw64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexa64
M       vbm_vol_localstat.mexglx
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Updated compile-tool and added test tool where save results after
    compilation can be compared: compile_test_debug.m.
(2) Replaced roundf from vbm_vol_localstats with ROUND macro.
(3) Some tags in tbx_cfg_vbm were not correct and mixed.
(4) Default folder for log-file in cg_vbm_bash is now PWD.


------------------------------------------------------------------------
r602 | dahnke | 2014-09-16 16:12:44 +0200 (Di, 16 Sep 2014) | 23 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_write.m
A       templates_1.50mm/Template_vbm12R593a_IXI556_MNI152_T1.nii
M       vbm_io_xml.m
M       vbm_stat_marks.m
M       vbm_tst_qa.m
M       vbm_vol_atlas.m
M       vbm_vol_partvol.m

(1)  Updated atlas variables and set Hammers atlas as default atlas.
(2)  Corrected MATLAB 7.4 try-catch-error in "vbm_io_xml".
(3)  Added new T1 average image "Template_vbm12R593a_IXI556_MNI152_T1.nii" 
     in "templates_1.50mm" directory.
(4)  Modified bias marking. Worst case is now 200% BWP inhomogeneity that
     is around 2 times of the minimum tissue contrast.
(5)  Removed AMAP "kmeans" and "bias_fwhm" options in "cg_vbm_defaults".
(6)  Removed "LAS", "gcut", and "cleanup" options in "cg_vbm_defaults".
(7)  Updated "LASstr", "gcutstr", "cleanupstr" options in "cg_vbm_defaults".


------------------------------------------------------------------------
r603 | gaser | 2014-09-19 10:31:06 +0200 (Fr, 19 Sep 2014) | 99 lines

Changed paths:
M       AmapMex.mexw32
M       AmapMex.mexw64
M       MrfPrior.c
M       Pve.c
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       compile.m
 M      compile_test_debug.m
D       fsaverage/lh.central
D       fsaverage/lh.sphere
A       fsaverage/lh.sphere.gii
D       fsaverage/rh.central
D       fsaverage/rh.sphere
A       fsaverage/rh.sphere.gii
M       ornlmMex.mexw32
M       ornlmMex.mexw64
M       sanlmMex.mexa64
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexa64
M       sanlmMex_noopenmp.mexglx
M       sanlmMex_noopenmp.mexmaci64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       sanlm_float.c
M       spm_vbm12.m
M       tbx_cfg_vbm.m
M       vbdist.c
M       vbdist.mexa64
M       vbdist.mexmaci64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm12.man
M       vbm_surf_createCS.m
M       vbm_surf_parameters.m
M       vbm_surf_resamp.m
M       vbm_vol_downcut.c
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.c
M       vbm_vol_eidist.mexa64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_genus0.c
M       vbm_vol_genus0.mexa64
M       vbm_vol_genus0.mexmaci64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.c
M       vbm_vol_gradient3.mexa64
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.c
M       vbm_vol_laplace3.mexa64
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.c
M       vbm_vol_laplace3R.mexa64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.c
M       vbm_vol_localstat.mexa64
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.c
M       vbm_vol_median3.mexa64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.c
M       vbm_vol_simgrow.mexa64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) CAT is now using gifti formaz as default because fucking windows
    was not accepting freesurfer files.
(2) Updated surface filenames to gifti.
(3) Removed parameters bb and vox from GUI.
(4) No distiction at GUI level whether estimate or write segmentations.
(5) Handling of sanlm/ornlm flags was still not yet correct. 
(6) Added strict testing in compile script.
(7) Cleaned some code according to new warnings from #6.
(8) Recompiled all CAT- and mex-files.


------------------------------------------------------------------------
r604 | gaser | 2014-09-19 11:48:16 +0200 (Fr, 19 Sep 2014) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man
M       vbm_surf_createCS.m

some small bugs removed...

------------------------------------------------------------------------
r605 | gaser | 2014-09-19 15:53:49 +0200 (Fr, 19 Sep 2014) | 10 lines

Changed paths:
M       cg_vbm_batch.m
 M      fsaverage/lh.sphere.gii
 M      fsaverage/rh.sphere.gii
M       vbm12.man
M       vbm_surf_createCS.m

Manual flipping of vertices according to vmat in vbm_surf_createCS.m did
not considered all potential cases.

------------------------------------------------------------------------
r606 | gaser | 2014-09-22 13:17:26 +0200 (Mo, 22 Sep 2014) | 6 lines

Changed paths:
M       vbm_surf_createCS.m

Force saving compressed gifti because ASCII format caused trouble with CAT.
 

------------------------------------------------------------------------
r607 | gaser | 2014-09-22 13:29:37 +0200 (Mo, 22 Sep 2014) | 6 lines

Changed paths:
M       cg_vbm_write.m

Dartel was wrongly deselected if surfaces awere written, but no normalized
images. 

------------------------------------------------------------------------
r608 | gaser | 2014-09-22 13:45:20 +0200 (Mo, 22 Sep 2014) | 6 lines

Changed paths:
A       vbm_surf_resamp_freesurfer.m

Added vbm_surf_resamp_freesurfer.m to resample freesurfer data to gifti.


------------------------------------------------------------------------
r609 | gaser | 2014-09-23 16:43:01 +0200 (Di, 23 Sep 2014) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man

Removed error in cg_vbm_write.m for undefined method 'colon'.


------------------------------------------------------------------------
r610 | gaser | 2014-09-24 10:18:03 +0200 (Mi, 24 Sep 2014) | 8 lines

Changed paths:
M       Makefile.vbm
M       spm_vbm12.m
MM      vbm_surf_resamp_freesurfer.m

Modified CAT_FixTopology.c in CAT to consider issues with large defects.


------------------------------------------------------------------------
r611 | dahnke | 2014-09-24 16:34:01 +0200 (Mi, 24 Sep 2014) | 18 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
A  +    templates_1.50mm/Template_T1_IXI555_MNI152.nii
D       templates_1.50mm/Template_vbm12R593a_IXI556_MNI152_T1.nii
M       vbm_plot_boxplot.m
M       vbm_stat_marks.m
M       vbm_tst_SRS.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_qa.m
M       vbm_vol_atlas.m

(1)  Updated VBM report.
(2)  Added comments in "vbm_cg_defaults".
(3)  Corrected output of "vbm_tst_calc_kappa".
(4)  Updated QA functions and ratings.


------------------------------------------------------------------------
r612 | gaser | 2014-09-24 17:17:18 +0200 (Mi, 24 Sep 2014) | 74 lines

Changed paths:
M       AmapMex.mexmaci64
M       AmapMex.mexw32
M       AmapMex.mexw64
M       CHANGES.txt
M       compile.m
M       ornlmMex.mexmaci64
M       ornlmMex.mexw32
M       ornlmMex.mexw64
M       sanlmMex.mexa64
M       sanlmMex.mexglx
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexa64
M       sanlmMex_noopenmp.mexglx
M       sanlmMex_noopenmp.mexmaci64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       sanlm_float.c
M       vbdist.mexglx
M       vbdist.mexmaci64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm_vol_downcut.mexglx
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexglx
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_genus0.mexglx
M       vbm_vol_genus0.mexmaci64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexglx
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexglx
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexglx
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexglx
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexglx
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexglx
M       vbm_vol_simgrow.mexmaci64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) SANLM-Filter had issues in white matter because of error in NAN.
(2) Recompiled all mex-files.


------------------------------------------------------------------------
r613 | dahnke | 2014-09-24 18:21:40 +0200 (Mi, 24 Sep 2014) | 9 lines

Changed paths:
D       avgT1_Dartel_IXI550_MNI152.nii
M       cg_vbm_write.m

(1)  Removed 3rd noise correction after LAS.
(2)  Corrected intensity normalization error in 7T data. 
(3)  Removed old average T1 IXI image in VBM main directory. 
     A new average T1 can be found in the "template_1.50mm" directory. 

------------------------------------------------------------------------
r614 | dahnke | 2014-09-25 01:09:15 +0200 (Do, 25 Sep 2014) | 8 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_stat_marks.m

(1)  Corrected QA execution error. 



------------------------------------------------------------------------
r615 | dahnke | 2014-09-25 13:51:15 +0200 (Do, 25 Sep 2014) | 6 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_tst_pre.m

(1)  Corrected error in LAS class correction that cause problems with the WMHC.

------------------------------------------------------------------------
r616 | gaser | 2014-09-29 11:20:40 +0200 (Mo, 29 Sep 2014) | 17 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_write.m
M       compile.m
M       tbx_cfg_vbm.m
M       vbm12.man
M       vbm_io_cmd.m
M       vbm_surf_createCS.m

(1) Corrected output of processing time in cg_vbm_write.m and 
    vbm_surf_createCS.m.
(2) Some minor modication to GUI-text.
(3) Modified compile tool.
(4) Handling of exlusively saving jacobian was not correct.



------------------------------------------------------------------------
r617 | gaser | 2014-09-29 14:10:58 +0200 (Mo, 29 Sep 2014) | 10 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man
M       vbm_surf_createCS.m

(1) Again corrected output of processing time in cg_vbm_write.m and 
    vbm_surf_createCS.m.
(2) ornlm_str was missing if only SANLM filter was used in cg_vbm_write.m.


------------------------------------------------------------------------
r618 | gaser | 2014-09-29 15:06:01 +0200 (Mo, 29 Sep 2014) | 9 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man

(1) Again corrected output of processing time in cg_vbm_write.m and 
    vbm_surf_createCS.m.
(2) ornlm_str was missing if only SANLM filter was used in cg_vbm_write.m.


------------------------------------------------------------------------
r619 | gaser | 2014-09-29 17:13:57 +0200 (Mo, 29 Sep 2014) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man

Added denoising of initial spm segmentation using spm_mrf.


------------------------------------------------------------------------
r620 | gaser | 2014-09-29 17:23:28 +0200 (Mo, 29 Sep 2014) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       vbm12.man

spm_progress_bar was not cleared in cg_vbm_write.m.


------------------------------------------------------------------------
r621 | gaser | 2014-09-30 12:16:11 +0200 (Di, 30 Sep 2014) | 6 lines

Changed paths:
M       vbm_spm.m

SPM is saved using spm_get_defaults('mat.format') in spm_vbm.m.


------------------------------------------------------------------------
r622 | gaser | 2014-10-01 11:36:12 +0200 (Mi, 01 Okt 2014) | 10 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_update.m
M       spm_vbm12.m
M       vbm12.man
M       vbm12.txt

Updated update function and welcome message which is now coded in HTML.


------------------------------------------------------------------------
r623 | gaser | 2014-10-01 12:45:11 +0200 (Mi, 01 Okt 2014) | 8 lines

Changed paths:
M       cg_vbm_update.m
M       spm_vbm12.m
M       vbm12.txt

Again updated update function and welcome message which is now coded in HTML.


------------------------------------------------------------------------
r624 | gaser | 2014-10-01 12:50:58 +0200 (Mi, 01 Okt 2014) | 6 lines

Changed paths:
M       spm_vbm12.m

Again updated update function and welcome message which is now coded in HTML.


------------------------------------------------------------------------
r625 | gaser | 2014-10-02 15:27:36 +0200 (Do, 02 Okt 2014) | 10 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_defaults.m
M       spm_vbm12.m
A       vbm12.fig
A       vbm12.m

Added GUI interface.


------------------------------------------------------------------------
r626 | gaser | 2014-10-02 16:28:51 +0200 (Do, 02 Okt 2014) | 7 lines

Changed paths:
M       Makefile.vbm
M       distribute_to_server.sh

Adapted paths to new SPM12 version (no beta anymore!).


------------------------------------------------------------------------
r627 | gaser | 2014-10-20 12:23:26 +0200 (Mo, 20 Okt 2014) | 8 lines

Changed paths:
M       cg_vbm_write.m
 M      vbm12.fig
 M      vbm12.m

In cg_vbm_write.m wi and mi were mixed up at line 1469.


------------------------------------------------------------------------
r628 | dahnke | 2014-10-20 16:49:28 +0200 (Mo, 20 Okt 2014) | 65 lines

Changed paths:
 M      .
M       CHANGES.txt
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_run_job.m
M       cg_vbm_run_newcatch.m
M       cg_vbm_write.m
M       spm_vbm12.m
A       txt
A       txt/analyse_methods.png
A       txt/contact.jpg
A       txt/cortical_measures.png
A       txt/gyrification_index.png
A       txt/home.jpg
A       txt/human_brain.en.jpg
A       txt/human_brain.png
A       txt/images.jpg
A       txt/people.jpg
A       txt/research.jpg
A       txt/rqa01-intro-bwp-real.png
A       txt/style.css
A       txt/vbm.jpg
A       txt/vbm12.html
A       txt/vbm12.txt
A       txt/vbm12_FAQ.html
A       txt/vbm12_ackknowledgement.html
A       txt/vbm12_instruction.html
A       txt/vbm12_instruction_FF.html
A       txt/vbm12_instruction_FN.html
A       txt/vbm12_instruction_MS.html
A       txt/vbm12_instruction_PP.html
A       txt/vbm12_instruction_QA.html
A       txt/vbm12_instruction_ST.html
A       txt/vbm12_introduction.html
A       txt/vbm12_methods.html
A       txt/vbm12_methods_QA.html
A       txt/vbm12_methods_RBM.html
A       txt/vbm12_methods_SBM.html
A       txt/vbm12_methods_VBM.html
A       txt/vbm12_stuff.html
M       vbm_findfiles.m
M       vbm_io_csv.m
M       vbm_io_writenii.m
M       vbm_io_xml.m
M       vbm_stat_marks.m
M       vbm_surf_createCS.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_pre.m
M       vbm_tst_qa.m
A       vbm_tst_reduceRes.m
A       vbm_vol_imcalc.m

(1)  Changed input limitation for resolution properties in "cg_vbm_run_job". 
(2)  Corrected cleanup error with to strong corrections in the cerebellum of the
     BWP and images with low resolutions in "cg_vbm_write".
(3)  Initialize new VBM12 help with subdirectory for HTML help files.
(4)  Added resampling function in "vbm_tst_calc_kappa" for unequal resolutions.
(5)  Added kappa-depending result coloration in "vbm_tst_calc_kappa".
(6)  Added intern interpolation routine in "cg_vbm_run_job" and extended 
     "vbm_io_writenii" and "vbm_tst_qa" for downsampling of interpolated data
     back to native space.
(7)  Corrected CSF-background problems in global intensity scaling function 
     "vbm_pre_gintnorm" in "cg_vbm_write.m". 

------------------------------------------------------------------------
r629 | gaser | 2014-10-20 17:18:50 +0200 (Mo, 20 Okt 2014) | 46 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_run_job.m
A  +    html
M  +    html/vbm12.html
M  +    html/vbm12.txt
M       spm_vbm12.m
D       txt
D       txt/analyse_methods.png
D       txt/contact.jpg
D       txt/cortical_measures.png
D       txt/gyrification_index.png
D       txt/home.jpg
D       txt/human_brain.en.jpg
D       txt/human_brain.png
D       txt/images.jpg
D       txt/people.jpg
D       txt/research.jpg
D       txt/rqa01-intro-bwp-real.png
D       txt/style.css
D       txt/vbm.jpg
D       txt/vbm12.html
D       txt/vbm12.txt
D       txt/vbm12_FAQ.html
D       txt/vbm12_ackknowledgement.html
D       txt/vbm12_instruction.html
D       txt/vbm12_instruction_FF.html
D       txt/vbm12_instruction_FN.html
D       txt/vbm12_instruction_MS.html
D       txt/vbm12_instruction_PP.html
D       txt/vbm12_instruction_QA.html
D       txt/vbm12_instruction_ST.html
D       txt/vbm12_introduction.html
D       txt/vbm12_methods.html
D       txt/vbm12_methods_QA.html
D       txt/vbm12_methods_RBM.html
D       txt/vbm12_methods_SBM.html
D       txt/vbm12_methods_VBM.html
D       txt/vbm12_stuff.html
D       vbm12.txt

(1) Renamed txt folder to html.
(2) Changed resolution-threshold fro interpolation in cg_vbm_run_job.m.
(3) Deleted vbm12.txt


------------------------------------------------------------------------
r630 | gaser | 2014-10-20 17:19:31 +0200 (Mo, 20 Okt 2014) | 7 lines

Changed paths:

(1) Renamed txt folder to html.
(2) Changed resolution-threshold fro interpolation in cg_vbm_run_job.m.
(3) Deleted vbm12.txt


------------------------------------------------------------------------
r631 | gaser | 2014-10-22 11:05:46 +0200 (Mi, 22 Okt 2014) | 70 lines

Changed paths:
M       AmapMex.mexw32
M       AmapMex.mexw64
M       Makefile.vbm
D       cg_sanlm.m
M       cg_vbm_defaults.m
M       cg_vbm_run_job.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       html/vbm12.html
M       html/vbm12_FAQ.html
M       html/vbm12_ackknowledgement.html
M       html/vbm12_instruction.html
M       html/vbm12_instruction_FF.html
M       html/vbm12_instruction_PP.html
M       html/vbm12_introduction.html
M       html/vbm12_methods_SBM.html
M       html/vbm12_methods_VBM.html
M       html/vbm12_stuff.html
M       ornlmMex.mexw32
M       ornlmMex.mexw64
M       sanlmMex.c
M       sanlmMex.mexa64
M       sanlmMex.mexglx
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       sanlmMex_noopenmp.mexa64
M       sanlmMex_noopenmp.mexglx
M       sanlmMex_noopenmp.mexmaci64
M       sanlmMex_noopenmp.mexw32
M       sanlmMex_noopenmp.mexw64
M       sanlm_float.c
M       vbdist.mexw32
M       vbdist.mexw64
MM      vbm_tst_reduceRes.m
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_sanlm.m
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Added rician option to sanlm_float.c and sanlMex.c to allow to disable
    Rician noise estimation that causes artefacts in the neighbourhood
    of high signal intensities.
(2) Modified vbm_vol_sanlm.m and cg_vbm_tools.m to consider rician option.
(3) Recompiled all c-files.
(4) Modified html text.


------------------------------------------------------------------------
r632 | gaser | 2014-10-22 11:06:47 +0200 (Mi, 22 Okt 2014) | 10 lines

Changed paths:

(1) Added rician option to sanlm_float.c and sanlMex.c to allow to disable
    Rician noise estimation that causes artefacts in the neighbourhood
    of high signal intensities.
(2) Modified vbm_vol_sanlm.m and cg_vbm_tools.m to consider rician option.
(3) Recompiled all c-files.
(4) Modified html text.


------------------------------------------------------------------------
r633 | gaser | 2014-10-22 11:11:50 +0200 (Mi, 22 Okt 2014) | 9 lines

Changed paths:
M       cg_vbm_tools.m
M       html/vbm12.html
M       html/vbm12.txt
M       html/vbm12_instruction_FF.html

Corrected typo in cg_vbm_tools.


------------------------------------------------------------------------
r634 | gaser | 2014-10-22 12:09:12 +0200 (Mi, 22 Okt 2014) | 7 lines

Changed paths:
M       cg_vbm_tools.m
M       html/vbm12.html

Did some formatting in cg_vbm_tools.m.


------------------------------------------------------------------------
r635 | dahnke | 2014-10-22 14:18:51 +0200 (Mi, 22 Okt 2014) | 27 lines

Changed paths:
 M      .
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
M       vbm_stat_marks.m
M       vbm_tst_pre.m
M       vbm_tst_qa.m
M       vbm_vol_eidist.c

(1)  Corrected to strong CSF/GM cleanup (cg_vbm_write - cleanup section).
(2)  Corrected CSF threshold problem for bad SPM segmentation of the global 
     intensity scaling (cg_vbm_write > vbm_pre_gintnorm). 
(3)  Added "extopts.sanlm==5" backend option and code to use only the ORNLM 
     filter to avoid problems with untypical noise (cg_vbm_write - noise 
     correction section)
(4)  Corrected CSF/GM map creation for bad SPM segmentations and local CSF/back-
     ground estimation (cg_vbm_write > vbm_pre_LAS). 
(5)  Added "extopts.NCstr==0.5" paramter to control the strength of the ORNLM
     and MRF noise correction.
(6)  Corrected interpolation behavior to guaranty Dartel resolution in any case.
(7)  Updated VBM12 report. 


------------------------------------------------------------------------
r636 | dahnke | 2014-10-23 08:27:41 +0200 (Do, 23 Okt 2014) | 8 lines

Changed paths:
M       vbm12.fig
M       vbm12.m
M       vbm_tst_pre.m
M       vbm_vol_atlas.m

(1)  Added VBM12 header figure in VBM12 GUI.

------------------------------------------------------------------------
r637 | gaser | 2014-10-23 11:48:36 +0200 (Do, 23 Okt 2014) | 10 lines

Changed paths:
M       cg_vbm_run_job.m
M       tbx_cfg_vbm.m
M       vbm_spm.m

(1) Added rician flag to cg_vbm_run_job.m.
(2) Added some comments in vbm_spm.m.
(3) Many edits and formattings in tbx_cfg_vbm.m.


------------------------------------------------------------------------
r638 | gaser | 2014-10-23 11:49:46 +0200 (Do, 23 Okt 2014) | 7 lines

Changed paths:
M       cg_vbm_defaults.m
M       html/vbm12.html

Set sanlm flag in cg_vbm_defaults again to "3".


------------------------------------------------------------------------
r639 | dahnke | 2014-10-23 12:03:54 +0200 (Do, 23 Okt 2014) | 9 lines

Changed paths:
M       cg_vbm_run_newcatch.m
M       cg_vbm_write.m
M       vbm_vol_atlas.m

(1)  Corrected report error in cg_vbm_write.
(2)  Corrected error handling in cg_vbm_run_newcatch. 
(3)  Prepared further atlas data and xml export in vbm_vol_atlas (not read yet).

------------------------------------------------------------------------
r640 | dahnke | 2014-10-23 12:11:37 +0200 (Do, 23 Okt 2014) | 6 lines

Changed paths:
M       cg_vbm_defs.m

(1)  Added spm_load_float (that was removed in SPM12) into cg_vbm_defs (the only
     function that requires this function.

------------------------------------------------------------------------
r641 | gaser | 2014-10-23 16:10:57 +0200 (Do, 23 Okt 2014) | 6 lines

Changed paths:
M       cg_vbm_write.m
M       html/vbm12.html

Yb was too early deleted for further surface use.

------------------------------------------------------------------------
r642 | gaser | 2014-10-24 10:14:11 +0200 (Fr, 24 Okt 2014) | 7 lines

Changed paths:
M       cg_vbm_batch.m
M       html/vbm12.html

Adapted cg_vbm_batch.m to new parameters.


------------------------------------------------------------------------
r643 | dahnke | 2014-10-24 17:50:36 +0200 (Fr, 24 Okt 2014) | 19 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_write.m
A       templates_1.50mm/aal.xml
A       templates_1.50mm/hammers.xml
A       templates_1.50mm/ibsr.xml
A       templates_1.50mm/mori.xml
A       templates_1.50mm/neuromorphometrics.csv
A       templates_1.50mm/neuromorphometrics.nii
A       templates_1.50mm/neuromorphometrics.txt
A       templates_1.50mm/neuromorphometrics.xml
M       vbm_stat_marks.m
M       vbm_vol_atlas.m

(1)  Moved code block "deformation output" in cg_vbm_write to "write output" section.
(2)  Update command line report.
(3)  Added atlas-xml files for SPM12-ROI analysis (alpha version).
(4)  Added neuromorphometrics atlas (alpha version). 

------------------------------------------------------------------------
r644 | gaser | 2014-11-05 12:09:30 +0100 (Mi, 05 Nov 2014) | 11 lines

Changed paths:
M       cg_spmF2x.m
M       cg_spmT2x.m
M       cg_vbm_tools.m
M       vbm_surf_parameters.m

(1) Added estimation of sucus depth and surface area and updated all
    relevant functions.
(2) Corrected bug in spmT2x.m and spmF2x regarding wrong filenames.


------------------------------------------------------------------------
r645 | gaser | 2014-11-06 14:15:28 +0100 (Do, 06 Nov 2014) | 13 lines

Changed paths:
M       cg_vbm_tools.m
M       html/vbm12.html
M       vbm_surf_createCS.m
M       vbm_surf_parameters.m

(1) Added areal smoothing to spherical inflation to obtain more equally
    sized spheres.
(2) Removed estimation of local surface area because it worked not yet
    correctly.



------------------------------------------------------------------------
r646 | gaser | 2014-11-11 09:23:41 +0100 (Di, 11 Nov 2014) | 10 lines

Changed paths:
M       html/vbm12.html
M       vbm_surf_createCS.m

(1) Added CAT_RefineMesh after reduce_patch in vbm_surf_createCS.m because
    reducing patch leads to huge triangles in some areas.
(2) Flag usePPmap is again set to "0" because CAT_DeformSurface did not worked
    properly.


------------------------------------------------------------------------
r647 | gaser | 2014-11-13 08:39:10 +0100 (Do, 13 Nov 2014) | 8 lines

Changed paths:
A       fsaverage/lh.inflated.gii
A       fsaverage/rh.inflated.gii
M       html/vbm12.html

Added inflated surfaces to fsaverage for display purposes.


------------------------------------------------------------------------
r648 | gaser | 2014-11-13 10:44:24 +0100 (Do, 13 Nov 2014) | 9 lines

Changed paths:
M       html/vbm12.html
M       vbm12.fig
M       vbm_surf_resamp.m

(1) Slightly changed GUI buttons.
(2) Resampled values without smoothing will skip the s*mm. as prepend.


------------------------------------------------------------------------
r649 | dahnke | 2014-11-14 12:53:44 +0100 (Fr, 14 Nov 2014) | 103 lines

Changed paths:
 M      .
D       brainmask_LPBA40.nii
D       brainmask_LPBA40_dartel.nii
M       cg_vbm_batch.m
M       cg_vbm_batch.sh
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_run_job.m
M       cg_vbm_run_newcatch.m
M       cg_vbm_write.m
M       distribute_to_server.sh
M       html/vbm12_FAQ.html
A       html/vbm_vol_correct_slice_scaling_768.png
D       submask.nii
M       tbx_cfg_vbm.m
 M      templates_1.50mm
A       templates_1.50mm/brainmask.nii
A       templates_animals
A       templates_animals/ape_greater_T1.nii
A       templates_animals/ape_greater_T2.nii
A       templates_animals/ape_greater_TPM.nii
A       templates_animals/ape_greater_TPMt.nii
A       templates_animals/ape_greater_Template_1.nii
A       templates_animals/ape_greater_Template_2.nii
A       templates_animals/ape_greater_Template_3.nii
A       templates_animals/ape_greater_Template_4.nii
A       templates_animals/ape_greater_Template_5.nii
A       templates_animals/ape_greater_Template_6.nii
A       templates_animals/ape_greater_brainmask.nii
A       templates_animals/ape_greater_cg_vbm_defaults.m
A       templates_animals/ape_greater_vbm12.nii
A       templates_animals/ape_lesser_T1.nii
A       templates_animals/ape_lesser_T2.nii
A       templates_animals/ape_lesser_TPM.nii
A       templates_animals/ape_lesser_brainmask.nii
A       templates_animals/ape_lesser_cg_vbm_defaults.m
A       templates_animals/monkey_newworld_T1.nii
A       templates_animals/monkey_newworld_T2.nii
A       templates_animals/monkey_newworld_TPM.nii
A       templates_animals/monkey_newworld_brainmask.nii
A       templates_animals/monkey_newworld_cg_vbm_defaults.m
A       templates_animals/monkey_oldworld_T1.nii
A       templates_animals/monkey_oldworld_T2.nii
A       templates_animals/monkey_oldworld_TPM.nii
A       templates_animals/monkey_oldworld_Template_1.nii
A       templates_animals/monkey_oldworld_Template_2.nii
A       templates_animals/monkey_oldworld_Template_3.nii
A       templates_animals/monkey_oldworld_Template_4.nii
A       templates_animals/monkey_oldworld_Template_5.nii
A       templates_animals/monkey_oldworld_Template_6.nii
A       templates_animals/monkey_oldworld_brainmask.nii
A       templates_animals/monkey_oldworld_cg_vbm_defaults.m
A       templates_animals/monkey_oldworld_vbm12.nii
D       vbm_db.m
D       vbm_db_batch.m
M       vbm_io_csv.m
D       vbm_io_mysql.m
M       vbm_stat_marks.m
D       vbm_tst_SRS.m
D       vbm_tst_calc_bias.m
M       vbm_tst_pre.m
M       vbm_tst_qa.m
D       vbm_tst_qa_groups.m
D       vbm_tst_qa_groups_test.m
M       vbm_vol_atlas.m
M       vbm_vol_average.m
A       vbm_vol_correct_slice_scaling.m
M       vbm_vol_iscale.m
M       vbm_vol_partvol.m
M       vbm_vol_sanlm.m
M       vbm_vol_smooth3X.m

(1)  Removed private or unnecessary files: 
     * vbm_tst_qa_groups.m           - private - NISALS QA - out of date
     * vbm_tst_qa_groups_test.m      - private - NISALS QA - out of date
     * brainmask_LPBA40_dartel.nii   - unused
     * brainmask_LPBA40.nii          - unused
     * submask.nii                   - unused / private 
     * vbm_db                        - private - NISALS QA - out of date
     * vbm_db_batch                  - private - NISALS QA - out of date
     * vbm_io_mysql                  - private - NISALS QA - out of date
     * vbm_tst_SRS                   - private
     * vbm_tst_calc_bias             - private - qa script - out of date
(2)  Updated "vbm_vol_sanlm".
(3)  Added function to correct slice intensity errors 
     "vbm_vol_corrected_slice_scaling" that based on "cg_correct_slice_scaling".
(4)  Prepare multi species processing: 
     Added "species" variable to batch and add further default-files. 
     Added 4 further primate species:
      - ape_greater:     chimpanzees, bonobos, gorillas, orang-utans
      - apes_lesser:     gibbons
      - monkey_oldworld: baboons, macaques
      - monkey_newwold:  squirrels, ...
     The maps of this species are located in the "templates_animal" directory.
     Each species comes with TPM, T1, T2, brainmask, vbm12, and Dartel
     template maps. 
(5)  Corrected "Warning: Control Character '\U'" in "cg_vbm_run_newcatch 19" by
     replacing '\' by '\\'. 
(6)  The "textscan" function in "vbm_io_csv" requires for MATLAB>2013 no 
     "BufSize" variable and throw warnings. Added distinction by cases.
(7)  Corrected GUI variable name errors.

------------------------------------------------------------------------
r650 | dahnke | 2014-11-18 17:15:36 +0100 (Di, 18 Nov 2014) | 33 lines

Changed paths:
 M      .
M       cg_vbm_defaults.m
M       cg_vbm_run.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
 M      html
M       html/vbm12_instruction_PP.html
 M      html/vbm_vol_correct_slice_scaling_768.png
A       human_IXI555_cg_vbm_defaults.m
M       tbx_cfg_vbm.m
 M      templates_1.50mm
 M      templates_1.50mm/brainmask.nii
 M      templates_animals
M       templates_animals/ape_greater_cg_vbm_defaults.m
M       templates_animals/ape_lesser_cg_vbm_defaults.m
M       templates_animals/monkey_newworld_cg_vbm_defaults.m
A       templates_animals/monkey_oldworld_atlas_inia19NeuroMaps.csv
A       templates_animals/monkey_oldworld_atlas_inia19NeuroMaps.nii
A       templates_animals/monkey_oldworld_atlas_inia19NeuroMaps.txt
M       templates_animals/monkey_oldworld_brainmask.nii
M       templates_animals/monkey_oldworld_cg_vbm_defaults.m
A       vbm_set_cg_vbm_defaults.m
M       vbm_surf_parameters.m
MM      vbm_vol_correct_slice_scaling.m

(1)  Added "vbm_set_cg_vbm_defaults" to change the cg_vbm_defaults file e.g. 
     for non-human data.
(2)  Corrected error in animal-defaults-files.
(3)  Corrected vbm12 atlas setting errors.
 


------------------------------------------------------------------------
r651 | gaser | 2014-11-19 11:13:49 +0100 (Mi, 19 Nov 2014) | 12 lines

Changed paths:
 M      fsaverage/lh.inflated.gii
 M      fsaverage/rh.inflated.gii
M       html/vbm12_methods_VBM.html
M       tbx_cfg_vbm.m
M       vbm_surf_resamp.m

(1) Solved resampling issue. The underlying resampled surface is now always 
    the non-linearely registered surface.
(2) Some editing in html/vbm12_methods_VBM.html.


------------------------------------------------------------------------
r652 | dahnke | 2014-11-20 17:09:10 +0100 (Do, 20 Nov 2014) | 10 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_tst_calc_kappa.m
M       vbm_vol_average.m
M       vbm_vol_correct_slice_scaling.m

(1)  Simplified VBM12 report.
(2)  Corrected error in vbm_vol_correct_slice_scaling, added parameters and
     help text. 

------------------------------------------------------------------------
r653 | gaser | 2014-11-21 14:13:47 +0100 (Fr, 21 Nov 2014) | 44 lines

Changed paths:
M       Makefile.vbm
M       cg_spm_batch.sh
M       cg_vbm_batch.m
M       cg_vbm_batch.sh
M       cg_vbm_defaults.m
M       cg_vbm_defs.m
A       cg_vbm_extopts.m
M       cg_vbm_longitudinal.m
M       cg_vbm_longitudinal_multi.m
M       cg_vbm_longitudinal_multi_run.m
A       cg_vbm_opts.m
M       cg_vbm_run.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       distribute_to_server.sh
M       html/vbm12.html
M       html/vbm12_instruction_FN.html
M       html/vbm12_instruction_PP.html
M       human_IXI555_cg_vbm_defaults.m
M       tbx_cfg_vbm.m
 M      templates_animals/monkey_oldworld_atlas_inia19NeuroMaps.csv
 M      templates_animals/monkey_oldworld_atlas_inia19NeuroMaps.txt
M       vbm12.fig
M       vbm12.m
M       vbm_io_xml.m
A       vbm_vol_groupwise_ls.m
A       vbm_vol_series_align.m

(1) Added new longitudinal pipeline that strongly relies on the serial 
    longitudinal registration of the Longitudinal Toolbox in SPM12.
(2) Removed old stuff for longitduinal registration nincluding bias-
    correction between scans.
(3) Solved issue with repmat in vbm_vol_correct_slices.m.
(4) If no jvm is available vbm_io_xml.m now immediately returns.
(5) Cleaned cg_vbm_defs.m from some unused functions.

(6) Divided tbx_cfg_vbm.m in different parts for opts and extopts that can 
    be now easily used by other batches (e,g, cg_vbm_longitudinal_multi.m).
(7) Removed all dartelwarp option because Dartel is now always used.
(8) Warped files are now without additional "r".
(9) Some editing in htlm files to consider new changes.


------------------------------------------------------------------------
r654 | gaser | 2014-11-21 14:53:42 +0100 (Fr, 21 Nov 2014) | 6 lines

Changed paths:
M       cg_vbm_run.m

Non-existing option dartelwarp was still used in cg_vbm_run.m.


------------------------------------------------------------------------
r655 | gaser | 2014-11-21 16:06:46 +0100 (Fr, 21 Nov 2014) | 10 lines

Changed paths:
MM      cg_vbm_extopts.m
MM      cg_vbm_opts.m
M       cg_vbm_write.m
 M      vbm_vol_groupwise_ls.m
 M      vbm_vol_series_align.m

In cg_vbm_write surface option was still linked to flag extopts.


------------------------------------------------------------------------
r656 | gaser | 2014-11-21 16:21:34 +0100 (Fr, 21 Nov 2014) | 6 lines

Changed paths:
M       cg_vbm_write.m

In cg_vbm_write ROI option was still linked to flag extopts.


------------------------------------------------------------------------
r657 | gaser | 2014-11-25 11:13:53 +0100 (Di, 25 Nov 2014) | 12 lines

Changed paths:
M       cg_check_cov.m
M       cg_slice_overlay.m
M       cg_slice_overlay_ui.m
M       html/vbm12.html
M       vbm12.fig
M       vbm12.m

(1) Added TFCE button that is enabled if toolbox is installed.
(2) Added flag "func" to cg_slice_overlay.m.


------------------------------------------------------------------------
r658 | gaser | 2014-11-25 11:46:05 +0100 (Di, 25 Nov 2014) | 7 lines

Changed paths:
M       html/vbm12.html
M       vbm12.m

Solved issue with missing function for longitduinal data in vbm12.m.


------------------------------------------------------------------------
r659 | gaser | 2014-11-25 15:26:48 +0100 (Di, 25 Nov 2014) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       html/vbm12.html

Replaced additional opt.print flag in cg_vbm_write.m by general vbm.print.


------------------------------------------------------------------------
r660 | dahnke | 2014-11-25 21:08:52 +0100 (Di, 25 Nov 2014) | 10 lines

Changed paths:
M       cg_vbm_run_job.m
M       html/vbm12_instruction_PP.html
 M      templates_1.50mm
M       vbm_plot_boxplot.m
!       vbm_tst_pre.m
D       vbm_tst_reduceRes.m

(1)  Corrected affine registration error.

------------------------------------------------------------------------
r661 | gaser | 2014-12-03 10:51:22 +0100 (Mi, 03 Dez 2014) | 17 lines

Changed paths:
M       cg_vbm_tools.m
M       html/vbm12.html
M       html/vbm12_ackknowledgement.html
M       html/vbm12_instruction.html
M       html/vbm12_instruction_PP.html
M       html/vbm12_introduction.html
M       html/vbm12_methods_SBM.html
A       html/vbm12_starting.html
M       html/vbm12_stuff.html
M       vbm12.fig
M       vbm12.m

(1) Updated GUI and added some more functionality.
(2) Updated html-documentation and added quick starting guide.


------------------------------------------------------------------------
r662 | gaser | 2014-12-03 13:05:42 +0100 (Mi, 03 Dez 2014) | 16 lines

Changed paths:
M       cg_vbm_defs.m
M       cg_vbm_longitudinal.m
M       cg_vbm_tools.m
M       html/vbm12.html
M       tbx_cfg_vbm.m
M       vbm_vol_partvol.m

(1) Added modulation option for non-linear only to cg_vbm_defs.m.
(2) Replaced spm_def2det in cg_vbm_defs.m by spm_diffeo.
(3) Always use "No" instead of "None" in tbx_cfg_vbm
(4) Corrected captials and some output in vbm_vol_partitions.m.
(5) Always write modulated data non-linear-only in cg_vbm_longitudinal.m.



------------------------------------------------------------------------
r663 | gaser | 2014-12-04 10:15:06 +0100 (Do, 04 Dez 2014) | 10 lines

Changed paths:
M       cg_vbm_longitudinal.m
M       cg_vbm_longitudinal_multi.m
M       cg_vbm_longitudinal_multi_run.m
M       cg_vbm_tools.m
 M      html/vbm12_starting.html

Updated use of modulation option for longitudinal pipeline.


------------------------------------------------------------------------
r664 | gaser | 2014-12-04 11:45:31 +0100 (Do, 04 Dez 2014) | 9 lines

Changed paths:
M       Makefile.vbm
A       cg_vbm_longitudinal_batch.m
A       cg_vbm_longitudinal_batch.sh
M       cg_vbm_longitudinal_multi_run.m

Added commandline batch for longitudinal pipeline.


------------------------------------------------------------------------
r665 | dahnke | 2014-12-10 13:51:45 +0100 (Mi, 10 Dez 2014) | 24 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       templates_animals/ape_greater_cg_vbm_defaults.m
M       templates_animals/ape_lesser_cg_vbm_defaults.m
M       templates_animals/monkey_newworld_cg_vbm_defaults.m
M       templates_animals/monkey_oldworld_cg_vbm_defaults.m
M       vbm_io_writenii.m
M       vbm_plot_boxplot.m
M       vbm_qa_calcSTC.m
M       vbm_stat_marks.m
M       vbm_surf_createCS.m
D       vbm_tst_pre.m
M       vbm_tst_qa.m

(1)  Corrected affine registration error.
(2)  Changed vbm.opts.samp to 2 mm. 
(3)  Corrected small errors.
(4)  Updated primate vbm_defaults.
(5)  Removed prefix variable in  vbm_io_writenii.  
(6)  Update QA parameter.


------------------------------------------------------------------------
r666 | gaser | 2014-12-11 15:53:38 +0100 (Do, 11 Dez 2014) | 24 lines

Changed paths:
M       cg_check_cov.m
M       cg_showslice_all.m
M       cg_vbm_defaults.m
M       cg_vbm_longitudinal_batch.m
M       cg_vbm_longitudinal_batch.sh
M       cg_vbm_longitudinal_multi.m
M       cg_vbm_tools.m
M       html/vbm12.html
M       tbx_cfg_vbm.m
M       vbm_io_writenii.m
M       vbm_io_xml.m
M       vbm_plot_boxplot.m
M       vbm_surf_createCS.m

(1) Set debug to zero and solved issues with debug flag in vbm_surf_createCS.m.
(2) Corrected some typos in vbm_plot_boxplot.m and vbm_io_xml.m.
(3) vbm_io_writenii still had dartel options and extensions for writing data.
(4) Added many options to ch_check_cov to deal with different samples and
    to display quality measures in xml-files.
(5) Solved issue with 'GetWin' in cg_showslice_all.m.



------------------------------------------------------------------------
r667 | gaser | 2014-12-12 10:20:02 +0100 (Fr, 12 Dez 2014) | 11 lines

Changed paths:
M       cg_check_cov.m
MM      cg_vbm_longitudinal_batch.m
MM      cg_vbm_longitudinal_batch.sh
M       cg_vbm_tools.m
M       html/vbm12.html

Removed sample coding from cg_chek_cov.m and added option to sepcify different samples.



------------------------------------------------------------------------
r668 | gaser | 2014-12-12 10:42:11 +0100 (Fr, 12 Dez 2014) | 8 lines

Changed paths:
M       cg_check_cov.m
M       cg_vbm_tools.m
M       html/vbm12.html

Use simpler options in cg_check_cov.m.


------------------------------------------------------------------------
r669 | gaser | 2014-12-12 13:26:16 +0100 (Fr, 12 Dez 2014) | 8 lines

Changed paths:
M       cg_check_cov.m
M       cg_vbm_tools.m
M       html/vbm12.html

Updated some plot functions in cg_check_cov.m for nicer output.


------------------------------------------------------------------------
r670 | gaser | 2014-12-15 14:40:08 +0100 (Mo, 15 Dez 2014) | 7 lines

Changed paths:
M       cg_vbm_batch.m
M       html/vbm12.html

Solved issue with not used externel default file in cg_vbm_batch.m.


------------------------------------------------------------------------
r671 | gaser | 2014-12-16 15:46:26 +0100 (Di, 16 Dez 2014) | 11 lines

Changed paths:
M       cg_check_cov.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m

(1) If no images are saved within cg_vbm_write.m the flag do_cls is set to 1 
    because segmentations are necessary for ROI output and quality measures.
(2) Solved some issues in cg_vbm_tools for covariance check for surfaces.
 

------------------------------------------------------------------------
r672 | gaser | 2015-01-05 09:24:34 +0100 (Mo, 05 Jan 2015) | 15 lines

Changed paths:
M       cg_vbm_run.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       html/vbm12.html
!       vbm_surf_createCS.m
M       vbm_tst_qa.m
!       vbm_vol_approx.m

(1) Replaced nanmean by vbm_stat_nanmean in vbm_tst_qa.m
(2) Corrected typo in cg_vbm_write.m for calculating Yqw.
(3) Added eps to division in cg_vbm_run_job.m and cg_vbm_run.

 

------------------------------------------------------------------------
r673 | gaser | 2015-01-27 11:46:31 +0100 (Di, 27 Jan 2015) | 20 lines

Changed paths:
M       compile.m
M       vbm_surf_createCS.m
M       vbm_vol_eidist.c
M       vbm_vol_genus0.c

(1) Updated compile.m.
(2) Added algorithm.h in the header of vbm_vol_eidist.c.
(3) Correction for 'n' prefix in vbm_surf_createCS.m was not working for 
    img-files.
(4) Added a bunch of new functions to CAT_Topology.c:
      - get_cluster_size 
      - changed_voxels_between_surfaces
      - surface_deform
(5) Made a lot of changed fix_topology_sph in CAT_Topology.c:
      - estimate SPHs of surface with either handles or holes
      - estimate change in voxel space for handle/hole approach
      - choose operation with smaller change in voxel space 


------------------------------------------------------------------------
r674 | dahnke | 2015-02-24 15:59:47 +0100 (Di, 24 Feb 2015) | 51 lines

Changed paths:
 M      .
M       cg_vbm_defaults.m
A       cg_vbm_defaults_template_humanIXI555.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
A  +    html/vbm12_instruction_templates.html
 M      templates_animals
A       templates_animals/cg_vbm_defaults_template_primate130.m
A       templates_animals/cg_vbm_defaults_template_primate15.m
A       templates_animals/cg_vbm_defaults_template_primate400.m
A       templates_animals/cg_vbm_defaults_template_primate45.m
M       vbm_io_cgw2seg.m
M       vbm_io_img2nii.m
M       vbm_io_remat.m
M       vbm_set_cg_vbm_defaults.m
M       vbm_stat_marks.m
M       vbm_tst_CJV.m
M       vbm_tst_qa.m
M       vbm_vol_approx.m
M       vbm_vol_correct_slice_scaling.m

Major changes:
(1)  Corrected "median"-problem in "vbm_pre_gintnorm" in "cg_vbm_write". 
     The median was used to estimate tissue peaks, but lightly different mask 
     in different OS leaded to different tissue peaks that lead to stronger 
     differences between Linux and Windows/Mac. Used rounding operations (10^-5)
     to guaranty similar values.  
(2)  Corrected error in CSF/BG estimation in "vbm_pre_LAS2" in "cg_vbm_write"
     that emphasize background noise.
     Added code to improve the cortical GM segmentation, especially after the 
     bias correction (LAS-WM threshold).
(3)  Changed handling of the MRF filter after spm-preprocessing2 in 
     "cg_vbm_write". 
(4)  Large update for "vbm_vol_correct_slice_scaling". 
     Added automatic detection of slice and iteration criteria and validate the 
     function for simulated artifacts in the brain web phantom. Added the private 
     script "vbm_tst_BWPsliceartifact" that modifies and test images.
     
     
Minor changes:
(1)  Added help and small corrections in "cg_io_cgw2seg" and "vbm_io_img2nii.
(2)  Updated "vbm_io_remat" and added help.
(3)  Updated species specific processing in "vbm_tst_qa".
(4)  Added new "cg_vbm_defaults" for primates brain volume based primate 
     templates and html-help file.
(5)  Added code to compare the preprocessing steps on different operating 
     systems in "cg_vbm_run_job" and "cg_vbm_run_job".  
(*)  Further small corrections. 


------------------------------------------------------------------------
r675 | dahnke | 2015-02-26 09:58:05 +0100 (Do, 26 Feb 2015) | 5 lines

Changed paths:
M       cg_vbm_write.m

(1)  Corrected "debug==0" error in "vbm_pre_LAS2" in "cg_vbm_write".

------------------------------------------------------------------------
r676 | gaser | 2015-02-26 16:14:19 +0100 (Do, 26 Feb 2015) | 7 lines

Changed paths:
M       cg_vbm_defaults.m
M       html/vbm12.html

Set cg_vbm_defaults.m to standard values without debugging.


------------------------------------------------------------------------
r677 | dahnke | 2015-03-02 14:59:45 +0100 (Mo, 02 Mär 2015) | 20 lines

Changed paths:
MM      cg_vbm_defaults_template_humanIXI555.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
MM      templates_animals/cg_vbm_defaults_template_primate130.m
MM      templates_animals/cg_vbm_defaults_template_primate15.m
MM      templates_animals/cg_vbm_defaults_template_primate400.m
MM      templates_animals/cg_vbm_defaults_template_primate45.m
M       vbm_io_writenii.m
A       vbm_tst_BWPsliceartifact.m
M       vbm_vol_partvol.m

(1)  Updated blood vessel detection in "vbm_vol_partvol". Use now a smaller
     region for blood vessel detection to avoid defects in the hippocampus.
(2)  Added contrast check in "cg_vbm_run_job" to avoid preprocessing of inverse
     images (T2/PD weighted) if "extopts.INV=0". 
(3)  Updated inverse intensity processing in "vbm_pre_intnorm" in "cg_vbm_write".  
(4)  Updated modulated output in "vbm_io_write" to reduce artifacts.
(5)  Corrected output behavior in vbm-report.

------------------------------------------------------------------------
r678 | dahnke | 2015-03-03 11:29:16 +0100 (Di, 03 Mär 2015) | 12 lines

Changed paths:
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       vbm_io_cmd.m
M       vbm_vol_partvol.m

(1)  Added final affine registration in "cg_vbm_write" after segmentation. 
(2)  Prepared computer depending font size for vbm-report in "cg_vbm_write". 
(3)  New shorter command window output if debug==0 with a final removing of the
     gray output of the subroutines. 
     (changes in "vbm_io_cmd","vbm_vol_partvol","cg_vbm_write"). 

------------------------------------------------------------------------
r679 | dahnke | 2015-03-04 09:05:32 +0100 (Mi, 04 Mär 2015) | 7 lines

Changed paths:
M       cg_vbm_write.m
 M      vbm_tst_BWPsliceartifact.m

(1)  Corrected Yy output error for low resolution images.
(2)  Corrected error in final Affine segmentation for low resolution images.

------------------------------------------------------------------------
r680 | gaser | 2015-03-04 16:37:51 +0100 (Mi, 04 Mär 2015) | 13 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       html/vbm12.html

(1) Changed default values back to r674 in cg_vbm_defaults.m.
(2) Use correct estimate of mat file after final affine transformation.
(3) Added check for field before isfield is called in vbm_tst_qa.m.
(4) Removed saving of vbm12_*.mat file because it's not necessary
    anymore.
    

------------------------------------------------------------------------
r681 | dahnke | 2015-03-12 14:02:32 +0100 (Do, 12 Mär 2015) | 17 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_stat_marks.m
M       vbm_tst_qa.m

(1)  Corrected errors in "cg_vbm_write" due to MRF filtering of SPM segmentation
     that requires skull-stripping / cleanup.
(2)  Corrected error in "vbm_tst_qa" for "cg_vbm_write" call. 
(3)  Updated inhomogeneity measure ICR/CIR in "vbm_tst_qa" and rating. 
     Test showed low correlation between ICR/CIR and preprocessing quality. 
     Used a more relaxed scaling (BWP 100 inhomogeneity ~ mark 3.5, worst case
     real data - HR075 and 7Tesla ~ mark 5 to 6).
(4)  Corrected filter strength of the ORNLM filter. Used CNR previous as input,
     but theornlmMEX function requires a SNR value (~CNR*3).



------------------------------------------------------------------------
r682 | dahnke | 2015-03-13 10:38:24 +0100 (Fr, 13 Mär 2015) | 6 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_tst_qa.m

(1)  Corrected data type error in "vbm_tst_qa".

------------------------------------------------------------------------
r683 | gaser | 2015-03-16 16:50:08 +0100 (Mo, 16 Mär 2015) | 13 lines

Changed paths:
M       cg_slice_overlay.m
M       cg_vbm_defaults.m
M       html/vbm12.html
M       vbm_plot_boxplot.m

(1) Changed default values back to SPM-defaults in cg_vbm_defaults.m.
(2) Added function prctile to vbm_plot_boxplot.m to get rid of dependency
    from stat toolbox.
(3) Added new functionality to cg_slice_overlay.m to automatically estimate
    cluster peaks and plot resp. slices as default.
    

------------------------------------------------------------------------
r684 | gaser | 2015-03-16 16:50:21 +0100 (Mo, 16 Mär 2015) | 10 lines

Changed paths:
M       html/vbm12.html

(1) Changed default values back to SPM-defaults in cg_vbm_defaults.m.
(2) Added function prctile to vbm_plot_boxplot.m to get rid of dependency
    from stat toolbox.
(3) Added new functionality to cg_slice_overlay.m to automatically estimate
    cluster peaks and plot resp. slices as default.
    

------------------------------------------------------------------------
r685 | dahnke | 2015-04-13 18:39:40 +0200 (Mo, 13 Apr 2015) | 26 lines

Changed paths:
 M      .
M       cg_showslice_all.m
M       cg_vbm_write.m
A       fsaverage/lh.s1template.IXI555.gii
A       fsaverage/lh.s32template.IXI555.gii
A       fsaverage/lh.template.Template_T1_IXI555_MNI152.gii
A       fsaverage/rh.s1template.IXI555.gii
A       fsaverage/rh.s32template.IXI555.gii
A       fsaverage/rh.template.Template_T1_IXI555_MNI152.gii
 M      templates_1.50mm
M       vbm_io_csv.m
M       vbm_plot_boxplot.m
M       vbm_stat_marks.m
M       vbm_vol_sanlm.m

(1)  Using of MRF filter in "cg_vbm_write" without prior maps, required a simple
     skull-stripping and update of tissue maps before the MRF filtering. 
     Therefore, the loading of the bias corrected image was moved before the 
     class correction.
(2)  Corrections of the "cg_vbm_write" final affine registration.
(3)  Corrections in the "cg_vbm_write" cleanup routine.
(4)  Corrected small errors in other files. 
(5)  Added template surfaces.


------------------------------------------------------------------------
r686 | dahnke | 2015-04-13 19:26:22 +0200 (Mo, 13 Apr 2015) | 18 lines

Changed paths:
 M      fsaverage/lh.s1template.IXI555.gii
 M      fsaverage/lh.s32template.IXI555.gii
 M      fsaverage/lh.template.Template_T1_IXI555_MNI152.gii
 M      fsaverage/rh.s1template.IXI555.gii
 M      fsaverage/rh.s32template.IXI555.gii
 M      fsaverage/rh.template.Template_T1_IXI555_MNI152.gii
M       vbm_tst_qa.m

(1)  Updated QA estimation, because of large differences between different 
     segmentations. Added skull-stripping (especially for FSL and SPM) and a 
     fast version of the AMAP segmentation to get similar tissue peaks. 
(2)  Updated noise and bias estimation and increased accuracy.   
(3)  Updated relative volume marks by experimental values (median relative
     volume and its standard deviation of each tissue class based on a mixed 
     dataset of healthy control subjects of multiple databases (IXI, NIH, ...).


------------------------------------------------------------------------
r687 | dahnke | 2015-04-15 13:41:19 +0200 (Mi, 15 Apr 2015) | 21 lines

Changed paths:
A       cg_vbm_stools.m
M       cg_vbm_tools.m
M       tbx_cfg_vbm.m
M       vbm12.m
A       vbm_surf_display.m
A       vbm_surf_info.m
A       vbm_surf_rename.m
A       vbm_surf_render.m
M       vbm_tst_qa.m

(1)  Added "vbm_surf_render" a modified version of the "spm_mesh_render" with 
     "inner light" and "vbm_surf_display" for further texture handling
(2)  Separate volume and surface tools:
     - cg_vbm_tools      .. volume tools
     - cg_vbm_stools     .. surface tools 
(3)  Added management surface functions 
     - vbm_surf_info     .. extract surface information from filename
     - vbm_surf_rename   .. replace specific parts of surface filenames
     

------------------------------------------------------------------------
r688 | dahnke | 2015-04-17 11:25:22 +0200 (Fr, 17 Apr 2015) | 18 lines

Changed paths:
M       cg_vbm_stools.m
M       vbm12.m
M       vbm_io_colormaps.m
M       vbm_stat_marks.m
M       vbm_surf_display.m
M       vbm_surf_info.m
M       vbm_surf_rename.m
M       vbm_surf_render.m
A       vbm_surf_smooth.m
M       vbm_tst_qa.m

(1)  Corrections and updates of surface management and display functions.
(2)  Added "vbm_suf_smooth" for texture smoothing.
(3)  Added colormaps for surfaces textures.        
(4)  Temporary, but not final modification of QA noise estimation. 


------------------------------------------------------------------------
r689 | dahnke | 2015-04-19 17:37:49 +0200 (So, 19 Apr 2015) | 17 lines

Changed paths:
M       cg_vbm_stools.m
A       internal
M       vbm_io_FreeSurfer.m
M       vbm_io_colormaps.m
A       vbm_surf_calc.m
M       vbm_surf_display.m
M       vbm_surf_info.m
M       vbm_surf_render.m
M       vbm_tst_qa.m

(1)  vbm_surf_calc
(2)  Added further texture handling in "vbm_surf_display".




------------------------------------------------------------------------
r690 | dahnke | 2015-04-22 14:25:36 +0200 (Mi, 22 Apr 2015) | 21 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_io_cmd.m
A       vbm_io_matlabversion.m
M       vbm_io_writenii.m
M       vbm_surf_calc.m
M       vbm_surf_display.m
M       vbm_surf_smooth.m
M       vbm_tst_qa.m
M       vbm_vol_resize.m

(1)  Added modification to change Dartel resolution in "cg_vbm_write" and 
     "vbm_io_writenii" by the "cg_vbm_defaults" parameter "extopts.vox".
(2)  Corrected error in mean mesh estimation and process bar in "vbm_surf_calc".
(3)  Changed datatype of intensity normalized output files from single to uint16.
     The images intensity is not displayed correctly in MRIcron for MAC.
(4)  Corrected small errors in "vbm_surf_display", "vbm_surf_smooth".
(5)  Added "vbm_io_matlabversion" to get the year-release number.
(6)  Corrected small MATLAB version depending error in "vbm_io_cmd" output that
     depend further on "vbm_io_cprintf" line 265. 

------------------------------------------------------------------------
r691 | gaser | 2015-04-23 10:40:56 +0200 (Do, 23 Apr 2015) | 9 lines

Changed paths:
M       Makefile.vbm
M       cg_vbm_defaults.m
M       html/vbm12.html
M       vbm_surf_display.m

Corrected some typos or comments.


------------------------------------------------------------------------
r692 | dahnke | 2015-04-23 11:49:12 +0200 (Do, 23 Apr 2015) | 38 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_extopts.m
M       cg_vbm_stools.m
A       cg_vbm_stoolsexp.m
D       fsaverage
D       fsaverage/fsavg.index2D_256x128.txt
D       fsaverage/lh.central.gii
D       fsaverage/lh.inflated.gii
D       fsaverage/lh.s1template.IXI555.gii
D       fsaverage/lh.s32template.IXI555.gii
D       fsaverage/lh.sphere.gii
D       fsaverage/lh.template.Template_T1_IXI555_MNI152.gii
D       fsaverage/rh.central.gii
D       fsaverage/rh.inflated.gii
D       fsaverage/rh.s1template.IXI555.gii
D       fsaverage/rh.s32template.IXI555.gii
D       fsaverage/rh.sphere.gii
D       fsaverage/rh.template.Template_T1_IXI555_MNI152.gii
M       tbx_cfg_vbm.m
A  +    templates_surfaces
M       vbm12.fig
M       vbm12.m
M       vbm_spm.m
M       vbm_surf_calc.m
M       vbm_surf_createCS.m
M       vbm_surf_display.m
M       vbm_surf_resamp.m
M       vbm_surf_resamp_freesurfer.m
M       vbm_surf_smooth.m

(1)  Added "extopts.expertgui" flag to "cg_vbm_defaults" to add further GUI
     options and batch function (default=0). 
(2)  Added "cg_vbm_stoolsepx" for further expert batch functions, if 
     "extopts.expertgui==0".
(3)  Updated VBM12 GUI.
(4)  Renamed "fsaverage" to "templates_surfaces".

------------------------------------------------------------------------
r693 | dahnke | 2015-04-24 08:08:32 +0200 (Fr, 24 Apr 2015) | 22 lines

Changed paths:
M       cg_vbm_extopts.m
M       cg_vbm_stoolsexp.m
A  +    templates_surfaces/lh.central.Template_T1_IXI555_MNI152.gii
D       templates_surfaces/lh.template.Template_T1_IXI555_MNI152.gii
A  +    templates_surfaces/rh.central.Template_T1_IXI555_MNI152.gii
D       templates_surfaces/rh.template.Template_T1_IXI555_MNI152.gii
M       vbm12.fig
A       vbm_surf_avg.m
M       vbm_surf_display.m
M       vbm_surf_info.m
M       vbm_surf_rename.m
M       vbm_surf_render.m
A       vbm_surf_resample.m
M       vbm_surf_smooth.m

(1)  Added file dependencies for "vbm_surf_smooth".
(2)  Added "vbm_surf_resample" for texture (and surface) resampling.
(3)  Added "vbm_surf_avg" for averaging and smoothing of meshs.
     Mirror averaging of sides did not work correctly.
(4)  Further small corrections.

------------------------------------------------------------------------
r694 | dahnke | 2015-04-24 08:09:23 +0200 (Fr, 24 Apr 2015) | 5 lines

Changed paths:
MM      cg_vbm_stoolsexp.m

(1)  

------------------------------------------------------------------------
r695 | dahnke | 2015-04-27 21:07:15 +0200 (Mo, 27 Apr 2015) | 14 lines

Changed paths:
M       cg_vbm_stools.m
 M      vbm_io_matlabversion.m
MM      vbm_surf_avg.m
M       vbm_surf_info.m
M       vbm_surf_rename.m
MM      vbm_surf_resample.m
A       vbm_surf_vol2surf.m

(1)  Added "vbm_surf_vol2surf" function (alpha) and updated GUI.
     SPM data type (no stepsize correction) and orientation problems 
     in "CAT_3dVol2Surf" with subject space data.
(2)  Small corrections in other files.

------------------------------------------------------------------------
r696 | dahnke | 2015-04-29 14:15:54 +0200 (Mi, 29 Apr 2015) | 10 lines

Changed paths:
M       cg_vbm_stools.m
M       vbm12.fig
M       vbm12.m
M       vbm_surf_display.m
M       vbm_surf_vol2surf.m

(1)  Updated vol2surf GUI. 
(2)  Small corrections and updates in "vbm_surf_display".

------------------------------------------------------------------------
r697 | dahnke | 2015-05-18 16:04:03 +0200 (Mo, 18 Mai 2015) | 14 lines

Changed paths:
M       cg_vbm_extopts.m
M       cg_vbm_run_newcatch.m
M       cg_vbm_run_oldcatch.m
M       cg_vbm_write.m
M       vbm_io_writenii.m
M       vbm_stat_marks.m
M       vbm_surf_createCS.m
M       vbm_surf_display.m
M       vbm_surf_info.m

(1)  Corrected mat0 error in rigide (and affine) output images. 
(2)  Added PBT WM and CSF thickness/depth estimation in "vbm_surf_createCS".

------------------------------------------------------------------------
r698 | dahnke | 2015-06-02 10:40:10 +0200 (Di, 02 Jun 2015) | 41 lines

Changed paths:
M       cg_vbm_stools.m
M       cg_vbm_write.m
A       templates_surfaces/lh.central.freesurfer.gii
A       templates_surfaces/rh.central.freesurfer.gii
M       vbm12.fig
M       vbm_surf_calc.m
M       vbm_surf_createCS.m
M       vbm_surf_display.m
M       vbm_surf_info.m
M       vbm_surf_rename.m
M       vbm_surf_render.m
M       vbm_surf_resample.m
M       vbm_surf_smooth.m

(1)  Changes for MT-image processing in "cg_vbm_write":
     - Deactivate SPM MRF filter to 0, because it removed to much informations. 
     - Corrected global intensity scaling errors for negative values in MT 
       contrast images ("vbm_pre_gintnorm" in "cg_vbm_write").
(2)  LAS updates in "cg_vbm_write":
     - Added estimation for the difference between cortical and subcortical GM 
       for further automatic control of the LAS filter strength. 
       MT data with lesser variation of GM tissue intensities will have a lower
       CV value and require less adaption.
     - Replaced TPM by Dartel template map.  
     - Added divergence skeleton for more better distance based cortical GM 
       detection and correction.
(3)  Added a try-catch block for surface creation in "cg_vbm_write".
(4)  Updates for surface rendering:
     - Renamed gyrus and sulcus width surface textures filenames according to 
       "thickness" texture filename in "gyruswidth", "gyruswidthWM", and
       "sulcuswidth".
     - Corrected print problems in "vbm_surf_display" (lighting does not work 
       with phong) and prepare print function. 
     - Set finer colormaps (256 values rather than 32).
     - Added multi-surface display in "vbm_surf_render" and "vbm_surf_display".
(5)  Corrected output directory and progress bar errors in "vbm_surf_calc".
(6)  Added FreeSurfer average surfaces "[lr]h.central.freesurfer.gii".
(7)  Added lazy processing in "vbm_surf_resample" and "vbm_surf_smooth" 
     (estimation only if files does not exist). 

------------------------------------------------------------------------
r699 | gaser | 2015-06-17 17:36:59 +0200 (Mi, 17 Jun 2015) | 8 lines

Changed paths:
M       Makefile.vbm
M       cg_check_cov.m
M       html/vbm12.html

Corrected wrong surface-template folder in cg_check_cov.m.


------------------------------------------------------------------------
r700 | gaser | 2015-06-17 17:46:39 +0200 (Mi, 17 Jun 2015) | 8 lines

Changed paths:
M       vbm_surf_resample.m
M       vbm_surf_smooth.m

Always overwrite already written data in vbm_surf_resample.m and vbm_surf_smooth.m, otherwise users might 
oversee that message if they want to write updated data.


------------------------------------------------------------------------
r701 | gaser | 2015-06-18 17:33:44 +0200 (Do, 18 Jun 2015) | 9 lines

Changed paths:
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       html/vbm12.html

(1) In cg_vbm_write.m changed some outputs of the log-page.
(2) Corrected typo in cg_vbm_run_job.m.


------------------------------------------------------------------------
r702 | gaser | 2015-06-18 17:36:50 +0200 (Do, 18 Jun 2015) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       html/vbm12.html

Forgot to remove some debugging code in cg_vbm_write.m.


------------------------------------------------------------------------
r703 | dahnke | 2015-07-07 09:10:01 +0200 (Di, 07 Jul 2015) | 16 lines

Changed paths:
M       cg_vbm_stoolsexp.m
M       ds.m
 M      templates_surfaces
M       vbm_io_writenii.m
M       vbm_stat_marks.m
M       vbm_surf_avg.m
M       vbm_surf_display.m
A       vbm_vol_isarnlm.m
M       vbm_vol_resize.m

(1)  Corrected error in "vbm_surf_display".
(2)  Deactivated mat0 changes in "vbm_io_writenii".
(3)  Added ISARNLM-filter to reduce parallel imaging artifacts. 
(4)  Added median reduction in "vbm_vol_resize".

------------------------------------------------------------------------
r704 | dahnke | 2015-07-07 15:35:05 +0200 (Di, 07 Jul 2015) | 5 lines

Changed paths:
M       vbm_vol_isarnlm.m

(1)  Corrected small errors in "vbm_vol_isarnlm".

------------------------------------------------------------------------
r705 | gaser | 2015-07-09 10:40:43 +0200 (Do, 09 Jul 2015) | 9 lines

Changed paths:
M       cg_spmT2x.m
M       cg_vbm_tools.m
M       html/vbm12.html
M       vbm_surf_render.m

(1) Corrected wrong fields in cg_vbm_tools.m and cg_spmT2x.m for thresholds.
(2) Extended vbm_surf_render.m by functions for scaling and png-saving

------------------------------------------------------------------------
r706 | dahnke | 2015-08-03 16:40:47 +0200 (Mo, 03 Aug 2015) | 26 lines

Changed paths:
 M      .
M       cg_vbm_defs.m
M       checkinopt.m
M       templates_1.50mm/aal.csv
M       templates_1.50mm/aal.nii
M       templates_1.50mm/aal.txt
M       templates_1.50mm/aal.xml
M       vbm_io_cmd.m
M       vbm_io_updateStruct.m
M       vbm_stat_marks.m
M       vbm_stat_nanmean.m
M       vbm_surf_display.m
M       vbm_vol_atlas.m
M       vbm_vol_average.m
M       vbm_vol_isarnlm.m

(1)  Deactivated "cleanup" case in "vbm_io_cmd", because it did not work in all 
     MATLAB versions. 
(2)  Restore file data type setting (V.dt, V.pinfo) in "cg_vbm_defs".
(3)  Corrected labeling in AAL atlas.
(4)  Corrected small errors in "vbm_stat_nanmean", "vbm_io_update_Struct", 
     "checkinopt" 
(5)  Added view options in "vbm_surf_display".


------------------------------------------------------------------------
r707 | dahnke | 2015-08-17 14:22:10 +0200 (Mo, 17 Aug 2015) | 22 lines

Changed paths:
M       ds.m
M       vbm_stat_marks.m
M       vbm_tst_calc_kappa.m
M       vbm_tst_qa.m

(1)  Added realignment function in "vbm_tst_calc_kappa".
(2)  Major update of the QA estimation "vbm_tst_qa" and "vbm_stat_marks":
     - The last changes (R686-R690) did not show improvements in all test areas. 
       There were strong age effects, and only partial improvements that did not 
       fit to the increased complexity and run time of the code.
       Therefore, the function was rebuild based on R650 and optimized by the 
       best ideas of versions R665-R682 to reduce variation between different 
       preprocessing methods (SPM8/12,FSL,VBM8/12) that were a strong problem in
       version R650. 
     - Most mentionable is that the focus of noise estimation moved from WM to
       CSF (if possible) to avoid aging effects, where the age depended changes
       of the WM structure can be misinterpreted as noise. Although, the methods
       to avoid these regions work in most cases, some kind of noise/movement
       artifacts showed a similar pattern that lead to an underestimation of 
       noise in these cases. 

------------------------------------------------------------------------
r708 | gaser | 2015-08-20 11:02:20 +0200 (Do, 20 Aug 2015) | 10 lines

Changed paths:
M       cg_showslice_all.m
M       cg_vbm_tools.m
M       html/vbm12.html
M       vbm_surf_render.m
MM      vbm_vol_isarnlm.m

Added option to select slice orientation in cg_showslice_all.m


------------------------------------------------------------------------
r709 | gaser | 2015-08-21 11:48:49 +0200 (Fr, 21 Aug 2015) | 7 lines

Changed paths:
M       cg_check_cov.m
M       html/vbm12.html

Added estimation of mean squared error to cg_check_cov.m


------------------------------------------------------------------------
r710 | gaser | 2015-08-21 17:33:50 +0200 (Fr, 21 Aug 2015) | 6 lines

Changed paths:
M       cg_check_cov.m

Don't use masking anymore in cg_check_cov.m.


------------------------------------------------------------------------
r711 | gaser | 2015-08-25 15:58:29 +0200 (Di, 25 Aug 2015) | 17 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_extopts.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       html/vbm12.html
M       vbm_tst_qa.m
M       vbm_vol_partvol.m

(1) Replaced nanstd by vbm_stat_nanstd in vbm_tst_qa.m.
(2) Updated cg_vbm_batch.m for new default parameters.
(3) Many naming changes to outputs and help texts incg_vbm_write, 
    vbm_vol_partvol, cg_vbm_run_job.
(4) Removed error message if peaks are too different in cg_vbm_write.m.


------------------------------------------------------------------------
r712 | gaser | 2015-08-27 16:09:42 +0200 (Do, 27 Aug 2015) | 7 lines

Changed paths:
M       cg_check_cov.m
M       html/vbm12.html

Added option to sort data according to mean correlation in cg_check_cov.m.


------------------------------------------------------------------------
r713 | gaser | 2015-09-07 08:49:33 +0200 (Mo, 07 Sep 2015) | 7 lines

Changed paths:
M       cg_check_cov.m
M       html/vbm12.html

Removed bug in cg_check_cov.m fpr MSE estimation for surfaces.


------------------------------------------------------------------------
r714 | gaser | 2015-09-07 08:54:23 +0200 (Mo, 07 Sep 2015) | 10 lines

Changed paths:
M       cg_slice_overlay.m
M       cg_slice_overlay_ui.m

(1) Extended cg_slice_overlay.m by option to automatically display slices 
    with local maxima if slice_str is empty string.
(2) Corrected bug in cg_slice_overlay.m for saving images of wrong window.
(3) Updated cg_slice_overlay_ui according to new functions in cg_slice_overlay.m
 

------------------------------------------------------------------------
r715 | gaser | 2015-09-07 08:56:36 +0200 (Mo, 07 Sep 2015) | 8 lines

Changed paths:
M       cg_vbm_stools.m
M       vbm12.fig

(1) Many changes of text and names in cg_vbm_stools.m.
(2) Changed some names in vbm12.fig.


------------------------------------------------------------------------
r716 | gaser | 2015-09-07 08:58:19 +0200 (Mo, 07 Sep 2015) | 5 lines

Changed paths:
M       cg_vbm_longitudinal_multi.m

Updated help text for modulation in cg_vbm_longitudinal_multi.m

------------------------------------------------------------------------
r717 | gaser | 2015-09-07 09:10:01 +0200 (Mo, 07 Sep 2015) | 16 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_extopts.m
M       cg_vbm_opts.m
M       cg_vbm_run.m
M       tbx_cfg_vbm.m

(1) Updated help text for many options in tbx_cfg_vbm.m, cg_vbm_opts.m, and
    cg_vbm_extopts.m.
(2) Removed some options (CSF, label) from GUI.
(3) Updated cg_vbm_run.m and cg_vbm_batch.m according to changes in (2).
(4) Updated expert options in cg_vbm_extopts.m.
(5) Updated some options in cg_vbm_defaults.m-


------------------------------------------------------------------------
r718 | gaser | 2015-09-07 15:15:44 +0200 (Mo, 07 Sep 2015) | 17 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_run_job.m
M       cg_vbm_stools.m
M       cg_vbm_stoolsexp.m
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       vbm_surf_createCS.m

(1) Corrected some typos in cg_vbm_defaults.m and vbm_surf_createCS.m.
(2) Updated help text in cg_vbm_tools.m, cg_vbm_stoolsexp.m,
    cg_vbm_stools.m, and cg_vbm_run_job.m
(3) Updated output in cg_vbm_write.m.
(4) Volumes are now printed in black in cg_vbm_write.m.



------------------------------------------------------------------------
r719 | gaser | 2015-09-07 15:38:03 +0200 (Mo, 07 Sep 2015) | 18 lines

Changed paths:
M       cg_vbm_tools.m
D       templates_surfaces/lh.central.freesurfer.gii
A  +    templates_surfaces/lh.inflated.Template_T1_IXI555_MNI152.gii
D       templates_surfaces/lh.inflated.gii
D       templates_surfaces/lh.s1template.IXI555.gii
D       templates_surfaces/lh.s32template.IXI555.gii
D       templates_surfaces/rh.central.freesurfer.gii
A  +    templates_surfaces/rh.inflated.Template_T1_IXI555_MNI152.gii
D       templates_surfaces/rh.inflated.gii
D       templates_surfaces/rh.s1template.IXI555.gii
D       templates_surfaces/rh.s32template.IXI555.gii

(1) Removed templates_surfaces/?h.central.freesurfer.gii and 
    templates_surfaces/?h.s1template.IXI555.gii.
(2) Renamed templates_surfaces/?h.s32template.IXI555.gii to
    templates_surfaces/?h.inflated.Template_T1_IXI555_MNI152.gii

------------------------------------------------------------------------
r720 | gaser | 2015-09-07 15:46:09 +0200 (Mo, 07 Sep 2015) | 5 lines

Changed paths:
M       cg_vbm_write.m

Corrected bug in cg_vbm_write.m if strength of NLM-filter was set to 0.

------------------------------------------------------------------------
r721 | gaser | 2015-09-10 14:50:23 +0200 (Do, 10 Sep 2015) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       html/vbm12.html

Corrected bug in cg_vbm_write.m whwre relative volume was not correctly printed.


------------------------------------------------------------------------
r722 | gaser | 2015-09-11 17:36:26 +0200 (Fr, 11 Sep 2015) | 17 lines

Changed paths:
M       cg_vbm_longitudinal.m
M       cg_vbm_longitudinal_multi.m
M       cg_vbm_stools.m
M       cg_vbm_tools.m
M       vbm12.fig
M       vbm_io_xml.m
M       vbm_surf_vol2surf.m

(1) Some cosmetic changes to vbm_surf_vol2surf.m and vbm_io_xml.m
    and cg_vbm_longitudinal_multi.
(2) Renamed longitudinal batch to prevent confucion with spm12 tool for
    longitudinal registration.
(3) Changed and corrected some ufilters in cg_vbm_stools.m.
(4) Changed cg_vbm_longitudinal.m accoring to (3).


------------------------------------------------------------------------
r723 | gaser | 2015-09-11 18:11:06 +0200 (Fr, 11 Sep 2015) | 7 lines

Changed paths:
M       cg_vbm_longitudinal.m
M       tbx_cfg_vbm.m

Some cosmetic changes to cg_vbm_longitudinal.m and tbx_cfg_vbm.m.


------------------------------------------------------------------------
r724 | gaser | 2015-09-14 11:05:36 +0200 (Mo, 14 Sep 2015) | 8 lines

Changed paths:
M       cg_vbm_stools.m
M       vbm_surf_vol2surf.m

(1) Recompiled CAT_3dVol2Surf.c to enable sampling at only one defined position.
(2) Some cosmetic changes to cg_vbm_stools.m and commented out functions that
    are not yet finished.

------------------------------------------------------------------------
r725 | gaser | 2015-09-14 11:12:05 +0200 (Mo, 14 Sep 2015) | 5 lines

Changed paths:
M       cg_vbm_stools.m

Shortened some names in cg_vbm_stools.m.

------------------------------------------------------------------------
r726 | gaser | 2015-09-14 11:16:14 +0200 (Mo, 14 Sep 2015) | 6 lines

Changed paths:
M       cg_vbm_stools.m

Disabled mapping in native space in  cg_vbm_stools.m. because it is not yet 
working because of coordination issues.

------------------------------------------------------------------------
r727 | gaser | 2015-09-14 14:55:36 +0200 (Mo, 14 Sep 2015) | 11 lines

Changed paths:
M       cg_vbm_opts.m
M       cg_vbm_run.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m

(1) Removed options for SPM12 bias correction form GUI.
(2) Adapted some fucntions according to (1).
(3) pause(rand) did not work properly, now always pause(1) is used in 
    cg_vbm_write.m

------------------------------------------------------------------------
r728 | gaser | 2015-09-14 15:28:58 +0200 (Mo, 14 Sep 2015) | 20 lines

Changed paths:
A  +    templates_surfaces/lh.central.freesurfer.gii
D       templates_surfaces/lh.central.gii
A  +    templates_surfaces/lh.sphere.freesurfer.gii
D       templates_surfaces/lh.sphere.gii
A  +    templates_surfaces/rh.central.freesurfer.gii
D       templates_surfaces/rh.central.gii
A  +    templates_surfaces/rh.sphere.freesurfer.gii
D       templates_surfaces/rh.sphere.gii
M       vbm_spm.m
M       vbm_surf_avg.m
M       vbm_surf_createCS.m
M       vbm_surf_resamp.m
M       vbm_surf_resamp_freesurfer.m
M       vbm_surf_resample.m

Renamed ?h.sphere.gii and ?h.central.gii to ?h.central.freesurfer.gii
and ?h.sphere.freesurfer.gii and changed resp. files.


------------------------------------------------------------------------
r729 | gaser | 2015-09-14 15:44:32 +0200 (Mo, 14 Sep 2015) | 8 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_stools.m

(1) Added expert modus 2 for experimental functions.
(2) Changed some file selection settings according to expert modus.


------------------------------------------------------------------------
r730 | gaser | 2015-09-16 11:34:40 +0200 (Mi, 16 Sep 2015) | 12 lines

Changed paths:
M       cg_vbm_batch.sh
M       cg_vbm_tools.m
M       cg_vbm_write.m
M       vbm_vol_groupwise_ls.m
M       vbm_vol_sanlm.m
M       vbm_vol_series_align.m

(1) Removed vbm-dir option in cg_vbm_batch.sh and updated help test.
(2) Some cosmetic changes to cg_vbm_write.m, vbm_vol_sanlm.m
    vbm_vol_groupwise_ls.m, and cg_vbm_tools.m

------------------------------------------------------------------------
r731 | dahnke | 2015-09-16 15:50:24 +0200 (Mi, 16 Sep 2015) | 10 lines

Changed paths:
M       cg_vbm_write.m
M       vbm_tst_qa.m

(1)  Simplification of SPM classification correction and correction of data 
     type errors.
(2)  Removed "Subject Averageness" mark, corrected relative volume unit 
     (% rather than cm3), and refined quality mark description. 


------------------------------------------------------------------------
r732 | gaser | 2015-09-17 10:01:49 +0200 (Do, 17 Sep 2015) | 14 lines

Changed paths:
M       CHANGES.txt
M       cg_vbm_longitudinal.m
M       cg_vbm_longitudinal_multi.m
M       cg_vbm_longitudinal_multi_run.m
M       html/vbm12.html
M       vbm_vol_groupwise_ls.m
M       vbm_vol_series_align.m

Reorganized and updated longitudinal batch that caused problems with 
column cellstr. Thanks to Yang Ding for pointing to that issue. 
 


------------------------------------------------------------------------
r733 | gaser | 2015-09-17 13:33:56 +0200 (Do, 17 Sep 2015) | 7 lines

Changed paths:
M       html/vbm12.html
M       vbm_vol_groupwise_ls.m

Replace noise estimation of NaN by average value in vbm_vol_groupwise_ls.m.


------------------------------------------------------------------------
r734 | dahnke | 2015-09-21 07:57:08 +0200 (Mo, 21 Sep 2015) | 9 lines

Changed paths:
M       CHANGES.txt
M       cg_vbm_write.m
M       vbm_io_writenii.m

Corrected mat0 in rigid output images.



------------------------------------------------------------------------
r735 | gaser | 2015-09-24 10:23:54 +0200 (Do, 24 Sep 2015) | 7 lines

Changed paths:
M       cg_vbm_write.m
M       tbx_cfg_vbm.m

(1) Added CSF and label again to GUI...
(2) Slightly changed printed outpput of cg_vbm_write.m.

------------------------------------------------------------------------
r736 | dahnke | 2015-09-24 17:06:13 +0200 (Do, 24 Sep 2015) | 23 lines

Changed paths:
M       cg_vbm_defaults.m
M       cg_vbm_extopts.m
M       cg_vbm_write.m
M       tbx_cfg_vbm.m
 M      templates_1.50mm
A       templates_1.50mm/Template_0_NKI174_MNI152_GS.nii
A       templates_1.50mm/Template_1_NKI174_MNI152_GS.nii
A       templates_1.50mm/Template_2_NKI174_MNI152_GS.nii
A       templates_1.50mm/Template_3_NKI174_MNI152_GS.nii
A       templates_1.50mm/Template_4_NKI174_MNI152_GS.nii
M       vbm_surf_display.m

(1)  Added preliminary Shooting deformation that still requires a correction of  
     the affine component of the modulated output with/without - in other words
     the w0r* wr* images are not correct!
     The differentiation between Dartel and Shooting is done by the selected  
     template. 
(2)  Removed ROI data extraction option from GUI.
(3)  Corrected small errors.
(4)  Corrected another uint8 NAN error.
(5)  Added preliminary Shooting template (Template_*_NKI174_MNI152_GS.nii).

------------------------------------------------------------------------
r737 | gaser | 2015-09-25 17:22:02 +0200 (Fr, 25 Sep 2015) | 16 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_batch.sh
M       cg_vbm_extopts.m
M       cg_vbm_stools.m
M       cg_vbm_write.m
M       vbm_surf_createCS.m
M       vbm_surf_vol2surf.m

(1) Corrected use of boundary position in vbm_vol_vol2surf.m and cg_vbm_stools.m.
(2) Quote type corrected in cg_vbm_extopts.m.
(3) Added forground flag to cg_vbm_batch.sh for vbmweb use.
(4) Corrected missing output.ROI filed in cg_vbm_write.m.
(5) Write pp1-map per default in vbm_surf_createCS.m for mapping and added
    side information.

------------------------------------------------------------------------
r738 | gaser | 2015-09-28 09:18:10 +0200 (Mo, 28 Sep 2015) | 10 lines

Changed paths:
 M      templates_1.50mm/Template_0_NKI174_MNI152_GS.nii
 M      templates_1.50mm/Template_1_NKI174_MNI152_GS.nii
 M      templates_1.50mm/Template_2_NKI174_MNI152_GS.nii
 M      templates_1.50mm/Template_3_NKI174_MNI152_GS.nii
 M      templates_1.50mm/Template_4_NKI174_MNI152_GS.nii
M       vbm_surf_createCS.m

Undo changes to write pp1-map per default in vbm_surf_createCS.m.

------------------------------------------------------------------------
r739 | gaser | 2015-10-01 12:00:57 +0200 (Do, 01 Okt 2015) | 8 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_write.m

(1) Some small changes in cg_vbm_write regarding batch mode and incorrect
    settings (ROI, LAS).
(2) Corrected ROI setting in cg_vbm_batch.m

------------------------------------------------------------------------
r740 | dahnke | 2015-10-02 15:38:09 +0200 (Fr, 02 Okt 2015) | 24 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_extopts.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
 M      templates_animals
M       vbm_io_writenii.m
M       vbm_surf_display.m
M       vbm_vol_correct_slice_scaling.m

(1)  Updated hard masking of T1 images for non human preprocessing. Although it
     worked with SPM version 6080 by using a brain mask for spm_preproc8, it 
     didn't work anymore and a real masking of the T1 data is required. Because 
     the masked image is also used for SPM Preprocessing (1 and 2) a relatively
     good skull-stripping (inclusive fast bias correction) was added. 
(2)  Added error message in "cg_vbm_batch".
(3)  Updated command window output of "vbm_surf_display".
(4)  Corrected small GUI-error in "vbm_vol_slice_scaling".
(5)  Prepared update of modulated output in "vbm_io_writenii".
(6)  Corrected template setting in "cg_vbm_write". Remove "do_dartel==0" message
     because there is no GUI dartel control option anymore. Added some test 
     parameter for Shooting e.g. to reduce the number of iteration.


------------------------------------------------------------------------
r741 | dahnke | 2015-10-07 20:23:28 +0200 (Mi, 07 Okt 2015) | 21 lines

Changed paths:
M       cg_vbm_batch.m
M       cg_vbm_run_job.m
M       cg_vbm_run_newcatch.m
M       cg_vbm_run_oldcatch.m
M       cg_vbm_write.m
M       vbm_surf_calc.m
M       vbm_surf_display.m
M       vbm_tst_qa.m

(1)  Added command line output of the resulting file in "vbm_surf_calc".
(2)  Replace temporary image output for VBM report by "V.dat" field in 
     "cg_vbm_write".
(3)  Added preprocessing parameter (job,res) output in "vbm_tst_qa".
(4)  Added output of the "vbm_*xml" with preprocessing parameter (job) and
     vbmerr, if "cg_vbm_run_job" failed (Changes is "cg_vbm_run_[new|old]catch"). 
(5)  Small corrections in "cg_vbm_batch".
(6)  Cleaned old primate processing commands in "cg_vbm_run_job".
(7)  ROI estimation only if file exist.


------------------------------------------------------------------------
r742 | gaser | 2015-10-08 14:03:13 +0200 (Do, 08 Okt 2015) | 12 lines

Changed paths:
M       CHANGES.txt
M       html/vbm12_methods_VBM.html
M       svn_ci_log
M       vbm_surf_createCS.m

(1) Added option to deform corrected surface to its uncorrected version 
    in aeras where topology correction was made in vbm_surf_createCS.m.
(2) Somed edits in html of VBM method.
(3) Updated svn_ci_log to automatically print all logs > r440 to CHANGES.txt.


------------------------------------------------------------------------
r743 | gaser | 2015-10-08 14:10:01 +0200 (Do, 08 Okt 2015) | 8 lines

Changed paths:
M       CHANGES.txt
M       svn_ci_log

Corrected previous changes in svn_ci_log to also include actual
changes.


------------------------------------------------------------------------
r744 | gaser | 2015-10-08 14:10:37 +0200 (Do, 08 Okt 2015) | 8 lines

Changed paths:
M       CHANGES.txt
M       svn_ci_log

Corrected previous changes in svn_ci_log to also include actual
changes.


------------------------------------------------------------------------
r745 | gaser | 2015-10-09 16:58:04 +0200 (Fr, 09 Okt 2015) | 84 lines

Changed paths:
M       Amap.c
M       AmapMex.mexa64
M       AmapMex.mexglx
M       AmapMex.mexmaci64
M       AmapMex.mexw32
M       AmapMex.mexw64
M       CHANGES.txt
M       Kmeans.c
M       Makefile.vbm
M       MrfPrior.c
M       cg_vbm_defaults.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       compile.m
M       genus0.c
M       html/vbm12.html
M       ornlmMex.mexmaci64
M       ornlmMex.mexw32
M       ornlmMex.mexw64
M       sanlmMex.mexa64
M       sanlmMex.mexglx
M       sanlmMex.mexmaci64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
D       sanlmMex_noopenmp.mexa64
D       sanlmMex_noopenmp.mexglx
D       sanlmMex_noopenmp.mexmaci64
D       sanlmMex_noopenmp.mexw32
D       sanlmMex_noopenmp.mexw64
M       sanlm_float.c
M       vbdist.c
M       vbdist.mexa64
M       vbdist.mexglx
M       vbdist.mexmaci64
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm_vol_downcut.mexmaci64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_genus0.mexa64
M       vbm_vol_genus0.mexglx
M       vbm_vol_genus0.mexmaci64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexmaci64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexmaci64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_isarnlm.m
M       vbm_vol_laplace3.mexmaci64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexmaci64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexmaci64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexmaci64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexmaci64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexmaci64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_sanlm.m
M       vbm_vol_simgrow.mexmaci64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64

(1) Replaced OPENMP with Posix Threads in sanlm-code for multi-threading.
(2) Use always multithreading SANLM. 
(3) Added inclusion of mex.h if mex-file is detected (important for printf
    under fucking windows).
(4) Recompiled everything...

------------------------------------------------------------------------
r746 | gaser | 2015-10-09 17:02:04 +0200 (Fr, 09 Okt 2015) | 7 lines

Changed paths:
M       CHANGES.txt
M       svn_ci_log

Tiny change in svn_ci_log


------------------------------------------------------------------------
r747 | gaser | 2015-10-09 17:02:55 +0200 (Fr, 09 Okt 2015) | 6 lines

Changed paths:
M       CHANGES.txt

Tiny change in svn_ci_log


------------------------------------------------------------------------
r748 | gaser | 2015-10-09 17:04:18 +0200 (Fr, 09 Okt 2015) | 7 lines

Changed paths:
M       CHANGES.txt
M       svn_ci_log

Tiny change in svn_ci_log


------------------------------------------------------------------------
r749 | gaser | 2015-10-09 18:04:18 +0200 (Fr, 09 Okt 2015) | 21 lines

Changed paths:
M       AmapMex.mexw64
M       CHANGES.txt
M       ornlmMex.mexw64
M       sanlmMex.mexw64
M       vbdist.mexw64
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.mexw64
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexw64

Recompiled windows 64bit.

------------------------------------------------------------------------
r750 | gaser | 2015-10-13 13:39:39 +0200 (Di, 13 Okt 2015) | 32 lines

Changed paths:
M       CHANGES.txt
M       cg_check_cov.m
M       html/vbm12.html
M       html/vbm12.txt
M       html/vbm12_FAQ.html
M       html/vbm12_ackknowledgement.html
M       html/vbm12_instruction.html
M       html/vbm12_instruction_FF.html
M       html/vbm12_instruction_FN.html
M       html/vbm12_instruction_MS.html
M       html/vbm12_instruction_PP.html
M       html/vbm12_instruction_QA.html
M       html/vbm12_instruction_ST.html
M       html/vbm12_instruction_templates.html
M       html/vbm12_introduction.html
M       html/vbm12_methods.html
M       html/vbm12_methods_QA.html
M       html/vbm12_methods_RBM.html
M       html/vbm12_methods_SBM.html
M       html/vbm12_methods_VBM.html
M       html/vbm12_starting.html
M       html/vbm12_stuff.html
M       vbm12.fig

(1) Changed y-limit in cg_check_cov.m.
(2) Updated html-files with many changes and additional links.
 




------------------------------------------------------------------------
r751 | gaser | 2015-10-18 20:47:01 +0200 (So, 18 Okt 2015) | 10 lines

Changed paths:
M       CHANGES.txt
M       vbm_vol_eidist.c
M       vbm_vol_eidist.mexmaci64

(1) Many cosmetic changes to vbm_vol_eidist.c.
(2) Removed maci64-bug in vbm_vol_eidist.c.



------------------------------------------------------------------------
r752 | gaser | 2015-10-18 21:24:02 +0200 (So, 18 Okt 2015) | 49 lines

Changed paths:
M       AmapMex.mexw32
M       AmapMex.mexw64
M       CHANGES.txt
M       html/vbm12.html
M       ornlmMex.mexw32
M       ornlmMex.mexw64
M       sanlmMex.mexw32
M       sanlmMex.mexw64
M       templates_1.50mm/neuromorphometrics.csv
M       vbdist.mexw32
M       vbdist.mexw64
M       vbm_vol_downcut.mexw32
M       vbm_vol_downcut.mexw64
M       vbm_vol_eidist.c
M       vbm_vol_eidist.mexa64
M       vbm_vol_eidist.mexglx
M       vbm_vol_eidist.mexmaci64
M       vbm_vol_eidist.mexw32
M       vbm_vol_eidist.mexw64
M       vbm_vol_genus0.mexw32
M       vbm_vol_genus0.mexw64
M       vbm_vol_gradient3.mexw32
M       vbm_vol_gradient3.mexw64
M       vbm_vol_interp3f.mexw32
M       vbm_vol_interp3f.mexw64
M       vbm_vol_laplace3.mexw32
M       vbm_vol_laplace3.mexw64
M       vbm_vol_laplace3R.mexw32
M       vbm_vol_laplace3R.mexw64
M       vbm_vol_localstat.mexw32
M       vbm_vol_localstat.mexw64
M       vbm_vol_median3.mexw32
M       vbm_vol_median3.mexw64
M       vbm_vol_median3c.mexw32
M       vbm_vol_median3c.mexw64
M       vbm_vol_pbtp.mexw32
M       vbm_vol_pbtp.mexw64
M       vbm_vol_simgrow.mexw32
M       vbm_vol_simgrow.mexw64


(1) Recompiled code.
(2) Corrected doubled definition in vbm_vol_eidist.c.
 




------------------------------------------------------------------------
r753 | gaser | 2015-10-18 23:37:04 +0200 (So, 18 Okt 2015) | 12 lines

Changed paths:
M       CHANGES.txt
A       Contents.m
M       html/vbm12.html
A       sliderPanel.m

Added sliderPanel.m.
 




------------------------------------------------------------------------
r754 | gaser | 2015-10-18 23:37:27 +0200 (So, 18 Okt 2015) | 10 lines

Changed paths:
M       CHANGES.txt
D       Contents.m

Added sliderPanel.m.
 




------------------------------------------------------------------------
r755 | gaser | 2015-10-19 07:41:58 +0200 (Mo, 19 Okt 2015) | 7 lines

Changed paths:
M       CHANGES.txt
M       vbm_surf_createCS.m

Some cosmetic changes to vbm_surf_createCS.m.


------------------------------------------------------------------------

Changed paths:
M       CHANGES.txt
M       cg_vbm_batch.m
M       cg_vbm_defaults.m
M       cg_vbm_extopts.m
M       cg_vbm_run_job.m
M       cg_vbm_write.m
M       ds.m
M       vbm_surf_display.m
M       vbm_surf_resamp.m
M       vbm_vol_partvol.m

(1)  Added affine preprocessing (APP=Affine PreProcessing) in cg_vbm_run_job 
     with APP parameter in cg_vbm_defaults and experimental expert GUI option. 
     APP include a bias rough bias correction and brain extraction to support 
     untypical cases (non-human/neonates) with registration problems. 
     This also include changes in preprocessing 1 part in the cg_vbm_write.
(2)  Removed high resolution voxel size limit.
(3)  Corrected tiny error that ignored rigid data output parameter.
(4)  Deactivate divergence variable in LAS and set lower upper threshold for GM
     because of problems in high contrast data with strong GM variation where
     low GM intensities were not corrected and therefore misclassified as CSF.
     Further tiny changes to stabilize the CSF/background field. 
(5)  Improved segmentation of subcortical regions in vbm_vol_partvol.
------------------------------------------------------------------------
r756 | dahnke | 2015-10-20 18:30:40
